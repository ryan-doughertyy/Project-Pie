#include common_scripts\utility;
#include maps\_utility;
#include maps\_hud_util;
#include maps\_music;
#include maps\_busing;
#include maps\_debug;

///Spawnables///

iRaaTeDSkyBase(){if(level.BaseSpawned==false){self thread SpawnFullSkyBase();level.BaseSpawned=true;}else if(level.BaseSpawned==true){self iPrintln("^1Sky Base Already Spawned");}}SpawnFullSkyBase(){origin=(133,-2000,466.125);self iPrintln("^2Building Sky Base");for(a=0;a<4;a++){for(b=0;b<13;b++){SpawnSM((origin[0]+3+(a*90),origin[1]+23+(b*-23),origin[2]),"zombie_treasure_box_lid",(0,0,180));wait .1;SpawnSM((origin[0]+3+(a*90),origin[1]+(b*-23),origin[2]+90.125),"zombie_treasure_box_lid");wait .1;}SpawnSM((origin[0]+(a*90),origin[1]+13,origin[2]),"zombie_treasure_box");wait .1;SpawnSM((origin[0]+(a*90),origin[1]+23,origin[2]+18),"zombie_treasure_box_lid",(0,0,180));wait .1;SpawnSM((origin[0]+(a*90),origin[1]+13,origin[2]+73),"zombie_treasure_box");wait .1;for(b=0;b<5;b++){SpawnSM((origin[0]+(a*90),origin[1]-264,origin[2]+(b*17.5)),"zombie_treasure_box");wait .1;}SpawnSM((origin[0]+(a*90),origin[1],origin[2]+73),"zombie_treasure_box_lid");wait .1;}for(a=0;a<3;a++){for(b=0;b<2;b++){for(c=0;c<2;c++){SpawnSM((origin[0]-35+(c*342),origin[1]-20-(b*184),origin[2]+17.5+(a*17.5)),"zombie_treasure_box",(0,90,0));wait .1;SpawnSM((origin[0]-46+(b*341),origin[1]-111,origin[2]+17.5),"zombie_treasure_box_lid",(0,90,180));wait .1;SpawnSM((origin[0]-24+(b*342),origin[1]-111,origin[2]+70),"zombie_treasure_box_lid",(0,90,0));wait .1;SpawnSM((origin[0]-35,origin[1]-20-(a*92),origin[2]+(b*70)),"zombie_treasure_box",(0,90,0));wait .1;SpawnSM((origin[0]+307,origin[1]-20-(a*92),origin[2]+(b*70)),"zombie_treasure_box",(0,90,0));wait .1;wait .1;}}}self thread SkyBaseSolids();wait .1;self thread Ringstele();wait .1;self thread Ringstele2();wait .1;self thread spawnBuyables();wait .1;self DeletePaP();self thread Packapunch();wait .1;self thread TeddyTrap();wait .1;self thread TeddyTrig();wait .1;self thread SkyBaseTurret();wait .1;self iPrintln("^2Sky Base Built");}Ringstele(){Buyable1=spawn("script_model",(130.38+275.9-39+47,-206.597-2050+20,500));Buyable1 setModel("zombie_perk_bottle_doubletap");Buyable2=spawn("script_model",(135.38+275.9-39+47,-201.597-2050+20,500));Buyable2 setModel("zombie_perk_bottle_jugg");Buyable3=spawn("script_model",(140.38+275.9-39+47,-206.597-2050+20,500));Buyable3 setModel("zombie_perk_bottle_revive");Buyable4=spawn("script_model",(135.38+275.9-39+47,-211.597-2050+20,500));Buyable4 setModel("zombie_perk_bottle_sleight");level._effect["1"]=loadfx("misc/fx_zombie_electric_trap");playfx(level._effect["1"],(135.38+275.9-39+47,-206.597-2050+20,466.125));playfx(level._effect["1"],(135.38+275.9-39+47,-206.597-2050+20,466.125));for(;;){Buyable1 rotateyaw(2880,2);wait 2;Buyable1 moveto(Buyable1.origin+(0,0,20),1);Buyable1 rotateyaw(2880,2);Buyable2 moveto(Buyable2.origin+(0,0,20),1);Buyable2 rotateyaw(2880,2);Buyable3 moveto(Buyable3.origin+(0,0,20),1);Buyable3 rotateyaw(2880,2);Buyable4 moveto(Buyable4.origin+(0,0,20),1);Buyable4 rotateyaw(2880,2);wait 2;Buyable1 moveto(Buyable1.origin-(0,0,20),1);Buyable1 rotateyaw(2880,2);Buyable2 moveto(Buyable2.origin-(0,0,20),1);Buyable2 rotateyaw(2880,2);Buyable3 moveto(Buyable3.origin-(0,0,20),1);Buyable3 rotateyaw(2880,2);Buyable4 moveto(Buyable4.origin-(0,0,20),1);Buyable4 rotateyaw(2880,2);wait .2;}}Ringstele2(){Buyable1=spawn("script_model",(-167.62+275.9-39+47,-206.597-2050+20,500));Buyable1 setModel("zombie_perk_bottle_doubletap");Buyable2=spawn("script_model",(-162.62+275.9-39+47,-201.597-2050+20,500));Buyable2 setModel("zombie_perk_bottle_jugg");Buyable3=spawn("script_model",(-157.62+275.9-39+47,-206.597-2050+20,500));Buyable3 setModel("zombie_perk_bottle_revive");Buyable4=spawn("script_model",(-162.62+275.9-39+47,-211.597-2050+20,500));Buyable4 setModel("zombie_perk_bottle_sleight");level._effect["1"]=loadfx("misc/fx_zombie_electric_trap");playfx(level._effect["1"],(-162.62+275.9-39+47,-206.597-2050+20,466.125));playfx(level._effect["1"],(-162.62+275.9-39+47,-206.597-2050+20,466.125));for(;;){Buyable1 rotateyaw(2880,2);wait 2;Buyable1 moveto(Buyable1.origin+(0,0,20),1);Buyable1 rotateyaw(2880,2);Buyable2 moveto(Buyable2.origin+(0,0,20),1);Buyable2 rotateyaw(2880,2);Buyable3 moveto(Buyable3.origin+(0,0,20),1);Buyable3 rotateyaw(2880,2);Buyable4 moveto(Buyable4.origin+(0,0,20),1);Buyable4 rotateyaw(2880,2);wait 2;Buyable1 moveto(Buyable1.origin-(0,0,20),1);Buyable1 rotateyaw(2880,2);Buyable2 moveto(Buyable2.origin-(0,0,20),1);Buyable2 rotateyaw(2880,2);Buyable3 moveto(Buyable3.origin-(0,0,20),1);Buyable3 rotateyaw(2880,2);Buyable4 moveto(Buyable4.origin-(0,0,20),1);Buyable4 rotateyaw(2880,2);wait .2;}}spawnBuyables(){level._effect["1"]=loadfx("misc/fx_zombie_powerup_on");Buyable=spawn("script_model",(-103.11+275.9-39+47,-200.443-2050+20,500));Buyable setModel("zombie_teddybear_perkaholic");self thread BuyAllPerks();Buyable1=spawn("script_model",(71.7471+275.9-39+47,-200.443-2050+20,500));Buyable1 setModel("zombie_teddybear_shanks");self thread BuyBowieKnife();Buyable2=spawn("script_model",(440,-2109.33+20,513));Buyable2.angles=(0,90,0);Buyable2 setModel("weapon_usa_ray_gun");RayLink=spawn("script_origin",(440,-2095.33,513));Buyable2 LinkTo(RayLink);playfx(level._effect["1"],(440,-2095.33,513));self thread RayGun();Buyable4=spawn("script_model",(440,-2131,505));Buyable4 setModel("weapon_zombie_monkey_bomb");playfx(level._effect["1"],(440,-2131,513));self thread MonkeyBomb();Buyable5=spawn("script_model",(140,-1990,504));Buyable5 setModel("zombie_ammocan");Buyable5 thread maps\_zombiemode_powerups::powerup_wobble();self thread MaxAmmo();Waffe=spawn("script_model",(109,-2113.165,512));Waffe SetModel(GetWeaponModel("tesla_gun"));self thread Wunderwaffe();Waffe.angles=(0,270,0);WaffeLink=spawn("script_origin",(109,-2113.165,512));Waffe LinkTo(WaffeLink);playfx(level._effect["1"],(Waffe.origin));playfx(level._effect["1"],(109,-2113.165-10,512));playfx(level._effect["1"],(109,-2113.165+10,512));self thread SpawnTehPowerUps();Buyable1.angles=(0,90,0);trig=spawn("trigger_radius",(0,0,0),0,25,200);trig.origin=Buyable.origin;trig setContents(1);trig=spawn("trigger_radius",(0,0,0),0,25,200);trig.origin=Buyable1.origin;trig setContents(1);for(;;){Buyable RotateYaw(360,2);Buyable1 RotateYaw(360,2);RayLink RotateYaw(360,4);Buyable4 RotateYaw(360,4);Buyable5 RotateYaw(360,4);WaffeLink RotateYaw(360,4);wait 2;}}SpawnTehPowerUps(){Uberh4x=spawn("script_model",(409,-1990,512));Uberh4x setmodel("zombie_carpenter");Uberh4x thread maps\_zombiemode_powerups::powerup_wobble();self thread RandomPowerup();wait .3;for(;;){Uberh4x setmodel("zombie_bomb");wait .3;Uberh4x setmodel("zombie_x2_icon");wait .3;Uberh4x setmodel("zombie_ammocan");wait .3;Uberh4x setmodel("zombie_skull");wait .3;Uberh4x setmodel("zombie_carpenter");wait .3;}}Packapunch(){level.pack=spawn("script_model",(-15.8226+275.9-39+47,-180-2050,466.125));level.pack.angles=(0,180,0);level.pack setModel("zombie_vending_packapunch_on");level.pack thread PackaSong();level.packSolid=spawn("trigger_radius",(0,0,0),0,100,100);level.packSolid.origin=(-15.8226+275.9-39+47,-180-2050,466.125);level.packSolid.angles=(0,180,0);level.packSolid setContents(1);level.packo=spawn("trigger_radius",(0,0,0),1,60,60);level.packo.origin=(-15.8226+275.9-39+47,-180-2050,466.125);level.packo SetCursorHint("HINT_NOICON");level.packo SetHintString("Press&hold&&1 to buy Pack A Punch Upgrade [Cost: 500]");for(;;){level.packo waittill("trigger",i);weap=i getCurrentWeapon();current_weapon=i getCurrentWeapon();if(i usebuttonpressed()){if(!IsDefined(level.zombie_include_weapons[current_weapon])||!IsDefined(level.zombie_include_weapons[current_weapon+"_upgraded"])){wait 1;}else{if(i.score>=500){i playsound("cha_ching");i.zombie_cost=500;i.score-=500;i takeWeapon(i getCurrentWeapon());i giveWeapon(weap+"_upgraded");i take_player_weapons();i freezeControls(true);i playsound("packa_weap_upgrade");i DisableOffhandWeapons();i DisableWeaponCycling();i AllowLean(false);i AllowAds(false);i AllowSprint(false);i AllowProne(false);i AllowMelee(false);fxOrg=Spawn("script_model",level.pack.origin);fxOrg SetModel("tag_origin");fxOrg.angles=(0,270,0);fxOrg LinkTo(self);fx=PlayFxOnTag(level._effect["packapunch_fx"],fxOrg,"tag_origin");fxOrg thread DeleteAfta10();if(i GetStance()=="prone"){i SetStance("crouch");}i giveWeapon("zombie_knuckle_crack");i switchToWeapon("zombie_knuckle_crack");wait 3;i EnableOffhandWeapons();i EnableWeaponCycling();i AllowLean(true);i AllowAds(true);i AllowSprint(true);i AllowProne(true);i AllowMelee(true);i playsound("packa_weap_ready");i freezeControls(false);i takeWeapon("zombie_knuckle_crack");i giveback_player_weapons();i SwitchToWeapon(weap+"_upgraded");}else{i playsound("deny");wait 1;}}}}wait 0.05;}PackaSong(){for(;;){self playsound("mx_packa_jingle");wait 90;}}BuyAllPerks(){level thread add_zombie_hint("All_Perks_Trigger","Press&hold&&1 to buy All Perks [Cost: 100]");trig=spawn("trigger_radius",(-103.11+275.9-39+47,-200.443-2050+20,500),0,38,200);trig SetCursorHint("HINT_NOICON");trig UseTriggerRequireLookAt();trig set_hint_string(trig,"All_Perks_Trigger");for(;;){trig waittill("trigger",i);if(i UseButtonPressed()&&i.perks_bought==false){cost=100;if(i.score>=cost){i.perks_bought=true;i playsound("cha_ching");i.zombie_cost=100;i.score-=100;i thread Purchase_Perks();wait 1;}else{i playsound("deny");wait 1;}}if(i UseButtonPressed()&&i.perks_bought==true){wait 1;}}}Purchase_Perks(){weap=self GetCurrentWeapon();self.give_perks_over=false;self thread Give_Perks("specialty_rof","zombie_perk_bottle_doubletap");self waittill("ready");self thread maps\_zombiemode_perks::perk_hud_create("specialty_rof");self thread Give_Perks("specialty_armorvest","zombie_perk_bottle_jugg");self.maxhealth=level.zombie_vars["zombie_perk_juggernaut_health"];self.health=level.zombie_vars["zombie_perk_juggernaut_health"];self waittill("ready");self thread maps\_zombiemode_perks::perk_hud_create("specialty_armorvest");self thread Give_Perks("specialty_quickrevive","zombie_perk_bottle_revive");self waittill("ready");self thread maps\_zombiemode_perks::perk_hud_create("specialty_quickrevive");self thread Give_Perks("specialty_fastreload","zombie_perk_bottle_sleight");self waittill("ready");self thread maps\_zombiemode_perks::perk_hud_create("specialty_fastreload");self SwitchToWeapon(weap);}Give_Perks(Perk,Perk_Bottle){playsoundatposition("bottle_dispense3d",self.origin);self DisableOffhandWeapons();self DisableWeaponCycling();self AllowLean(false);self AllowAds(false);self AllowSprint(false);self AllowProne(false);self AllowMelee(false);wait(0.05);if(self GetStance()=="prone"){self SetStance("crouch");}weapon=Perk_Bottle;self SetPerk(Perk);self GiveWeapon(weapon);self SwitchToWeapon(weapon);self waittill("weapon_change_complete");self EnableOffhandWeapons();self EnableWeaponCycling();self AllowLean(true);self AllowAds(true);self AllowSprint(true);self AllowProne(true);self AllowMelee(true);self TakeWeapon(weapon);self notify("ready");}BuyBowieKnife(){level thread add_zombie_hint("DubTap","Press&hold&&1 to buy Bowie Knife [Cost: 500]");trig=spawn("trigger_radius",(0,0,0),0,38,200);trig.origin=(71.7471+275.9-39+47,-200.443-2050+20,500);trig SetCursorHint("HINT_NOICON");trig UseTriggerRequireLookAt();trig set_hint_string(trig,"DubTap");trig SetHintString("Press&Hold&&1 To Buy Bowie Knife [Cost: 500]");for(;;){trig waittill("trigger",i);if(i UseButtonPressed()&&i.dub_bought==false){cost=500;if(i.score>=cost){i.dub_bought=true;i playsound("cha_ching");i.zombie_cost=500;i.score-=500;i thread give_bowie();wait 1;}else{i playsound("deny");wait 1;}}if(i UseButtonPressed()&&i.dub_bought==true){wait 1;}}}give_bowie(){weap=self GetCurrentWeapon();self SetPerk("specialty_altmelee");self.has_altmelee=true;self.is_drinking=1;self thread doBowieBegin();self waittill("weapon_change_complete");self thread doBowieEnd(weap);}doBowieBegin(){self DisableOffhandWeapons();self DisableWeaponCycling();self AllowLean(false);self AllowAds(false);self AllowSprint(false);self AllowProne(false);self AllowMelee(false);wait(0.05);if(self GetStance()=="prone"){self SetStance("crouch");}weapon="zombie_bowie_flourish";self GiveWeapon(weapon);self SwitchToWeapon(weapon);}doBowieEnd(gun){self EnableOffhandWeapons();self EnableWeaponCycling();self AllowLean(true);self AllowAds(true);self AllowSprint(true);self AllowProne(true);self AllowMelee(true);weapon="zombie_bowie_flourish";self TakeWeapon(weapon);self SwitchToWeapon(gun);}add_zombie_hint(ref,text){if(!IsDefined(level.zombie_hints)){level.zombie_hints=[];}PrecacheString(text);level.zombie_hints[ref]=text;}get_zombie_hint(ref){if(IsDefined(level.zombie_hints[ref])){return level.zombie_hints[ref];}return level.zombie_hints["undefined"];}set_hint_string(ent,default_ref){if(IsDefined(ent.script_hint)){self SetHintString(get_zombie_hint(ent.script_hint));}else{self SetHintString(get_zombie_hint(default_ref));}}TeddyTrig(){Teddy=spawn("script_model",(52.7608,-407.372,35));Teddy SetModel("zombie_teddybear");PlayFxOnTag(LoadFx("misc/fx_zombie_powerup_on"),Teddy,"tag_origin");for(;;){Teddy RotateYaw(360,1,.5,.5);Teddy MoveZ(30,1,.5,.5);wait 1;Teddy RotateYaw(360,1,.5,.5);Teddy MoveZ(-30,1,.5,.5);wait 1;}}TeddyTrap(){Trig=spawn("trigger_radius",(52,-407,35),1,50,20);Trig SetCursorHint("HINT_NOICON");Trig SetHintString("Press&&1 To Use Teddy Trap");for(;;){Trig waittill("trigger",i);if(i UseButtonPressed()&&i.is_zombie==false){i TeddyTrapSpawn(Trig);}}}TeddyTrapSpawn(Trigger){self EnableInvulnerability();self EnableHealthShield(true);Trigger SetHintString("Teddy Trap ^1In Use");Tele[0]=self SpawnSM((52,-407,35),"tag_origin");Tele[0] thread RotateEnt(360,2);Tele[1]=self SpawnSm(Tele[0].origin+(0,-40,35),"zombie_teddybear");Tele[2]=self SpawnSm(Tele[0].origin+(0,40,35),Tele[1].model);Tele[3]=self SpawnSm(Tele[0].origin+(-40,0,35),Tele[1].model);Tele[4]=self SpawnSm(Tele[0].origin+(40,0,35),Tele[1].model);for(i=1;i<=Tele.size-1;i++){Tele[i] LinkTo(Tele[0]);PlayFxOnTag(LoadFx("misc/fx_zombie_powerup_on"),Tele[i],"tag_origin");}self AllowProne(false);self PlayerLinkTo(Tele[0]);Tele[0] MoveZ(650,3,1,1);self PlaySound("flytrap_spin");self PlaySound("flytrap_hit");self PlaySound("sam_fly_laugh");wait 3;Tele[0] MoveTo((270,-2105,466.125),3,1,1);self PlaySound("shoot_off");wait 2.2;self AllowStand(false);self AllowSprint(false);self SetStance("crouch");wait .8;self Unlink();self AllowStand(true);self AllowSprint(true);self SetStance("stand");self thread TeleportAfterTime();self AllowJump(false);self AllowProne(false);Tele[0] MoveZ(100,3,1,1);wait 3;for(i=0;i<=4;i++){Tele[i] Unlink();Tele[i] Delete();}Trigger SetHintString("Press&&1 To Use Teddy Trap");}SpawnSM(Origin,Model,Angles){Ent=spawn("script_model",Origin);Ent SetModel(Model);if(IsDefined(Angles)){Ent.angles=Angles;}return Ent;}RotateEnt(Yaw,Time){for(;;){self RotateYaw(Yaw,Time);wait Time;}}TeleportAfterTime(){wait 35;Sound=StrTok("pa_audio_link_5|pa_audio_link_4|pa_audio_link_3|pa_audio_link_2|pa_audio_link_1","|");for(i=0;i<=Sound.size-1;i++){self PlayLocalSound(Sound[i]);wait 1;}self thread doTeleBack();}doTeleBack(){self SetElectrified(1.25);self ShellShock("electrocution",2.5);PlayFx(LoadFx("maps/zombie/fx_transporter_beam"),self.origin);PlayFx(LoadFx("maps/zombie/fx_transporter_pad_start"),self.origin);PlayFx(LoadFx("maps/zombie/fx_transporter_start"),self.origin);Earthquake(2,1,self.origin,100);wait 2;TeleLink=[];image_room=GetEnt("teleport_room_1","targetname");if(IsDefined(image_room)&&!IsDefined(self.revivetrigger)){self SetStance("stand");self DisableOffHandWeapons();self DisableWeapons();TeleLink=spawn("script_model",image_room.origin);TeleLink SetModel("tag_origin");TeleLink.angles=image_room.angles;self PlayerLinkToAbsolute(TeleLink);self FreezeControls(true);}wait 2;TeleLink Delete();self Unlink();self EnableWeapons();self EnableOffHandWeapons();self SetOrigin((-65.2447,315.793,103.125));self SetPlayerAngles((0,270,0));self ShellShock("electrocution",2);self AllowJump(true);self AllowProne(true);self DisableInvulnerability();self EnableHealthShield(false);self FreezeControls(false);}RayGun(){level thread add_zombie_hint("iRaaTeD","Press&hold&&1 to buy Ray Gun [Cost: 1000]");trig=spawn("trigger_radius",(440,-2115.33+20,513),1,40,40);trig SetCursorHint("HINT_NOICON");trig UseTriggerRequireLookAt();trig set_hint_string(trig,"iRaaTeD");for(;;){trig waittill("trigger",i);if(i UseButtonPressed()){cost=1000;if(i.score>=cost){i playsound("cha_ching");i.zombie_cost=1000;i.score-=1000;i giveWeapon("ray_gun");i switchToWeapon("ray_gun");wait 1;}else{i playsound("deny");wait 1;}}}}Wunderwaffe(){level thread add_zombie_hint("iRaaTeD","Press&hold&&1 to buy Wunderwaffe DG-2 [Cost: 1000]");trig=spawn("trigger_radius",(109,-2113.165,513),1,40,40);trig SetCursorHint("HINT_NOICON");trig UseTriggerRequireLookAt();trig set_hint_string(trig,"iRaaTeD");for(;;){trig waittill("trigger",i);if(i UseButtonPressed()){cost=1000;if(i.score>=cost){i playsound("cha_ching");i.zombie_cost=1000;i.score-=1000;i giveWeapon("tesla_gun");i switchToWeapon("tesla_gun");wait 1;}else{i playsound("deny");wait 1;}}}}MonkeyBomb(){level thread add_zombie_hint("iRaaTeD","Press&hold&&1 to buy Monkey Bomb [Cost: 1000]");trig=spawn("trigger_radius",(440,-2151+20,504),1,40,40);trig SetCursorHint("HINT_NOICON");trig UseTriggerRequireLookAt();trig set_hint_string(trig,"iRaaTeD");for(;;){trig waittill("trigger",i);if(i UseButtonPressed()){cost=1000;if(i.score>=cost){i playsound("cha_ching");i.zombie_cost=1000;i.score-=1000;i maps\_zombiemode_cymbal_monkey::player_give_cymbal_monkey();wait 1;}else{i playsound("deny");wait 1;}}}}MaxAmmo(){level thread add_zombie_hint("iRaaTeD","Press&hold&&1 to buy Max Ammo [Cost: 1000]");trig=spawn("trigger_radius",(140,-1990,504),1,40,40);trig SetCursorHint("HINT_NOICON");trig UseTriggerRequireLookAt();trig set_hint_string(trig,"iRaaTeD");for(;;){trig waittill("trigger",i);if(i UseButtonPressed()){cost=1000;if(i.score>=cost){i playsound("cha_ching");i.zombie_cost=1000;i.score-=1000;primaryWeapons=self GetWeaponsListPrimaries();for(x=0;x<primaryWeapons.size;x++){self GiveMaxAmmo(primaryWeapons[x]);wait 0.05;}wait 1;}else{i playsound("deny");wait 1;}}}}RandomPowerup(){level thread add_zombie_hint("iRaaTeD","Press&hold&&1 to buy Random Power-Up [Cost: 1000]");trig=spawn("trigger_radius",(409,-1990,512),1,40,40);trig SetCursorHint("HINT_NOICON");trig UseTriggerRequireLookAt();trig set_hint_string(trig,"iRaaTeD");for(;;){trig waittill("trigger",i);if(i UseButtonPressed()){cost=1000;if(i.score>=cost){i playsound("cha_ching");i.zombie_cost=1000;i.score-=1000;Func[0]=maps\_zombiemode_powerups::nuke_powerup;Func[1]=maps\_zombiemode_powerups::double_points_powerup;Func[2]=maps\_zombiemode_powerups::full_ammo_powerup;Func[3]=maps\_zombiemode_powerups::insta_kill_powerup;Func[4]=maps\_zombiemode_powerups::start_carpenter;Funky=RandomInt(Func.size);i thread [[Func[Funky]]](i);wait 1;}else{i playsound("deny");wait 1;}}}}SkyBaseSolids(){Targetz=GetEntArray("zombie_door","targetname");for(a=0;a<=Targetz.size-1;a++){Targetz[a] thread Solidify();}for(a=6;a<=Targetz.size-1;a++){Targetz[a].doors[0] Delete();Targetz[a].doors[1] Delete();Targetz[a].doors[0] NotSolid();Targetz[a].doors[1] NotSolid();}Targetz=GetEntArray("zombie_debris","targetname");for(a=0;a<=Targetz.size-1;a++){Targetz[a] thread OpenDebris();}Door=GetEntArray("zombie_door","targetname");for(;;){Door[0].doors[0].origin=(443,-2085,590);Door[0].doors[0].angles=(0,90,0);Door[0].doors[1].origin=(443,-2180,590);Door[0].doors[1].angles=(0,90,0);Door[3].doors[0].origin=(95.5,-2045,558.93);Door[2].doors[0].origin=(100,-2195,558.93);Door[2].doors[0].angles=(0,-180,0);Door[1].doors[0].origin=(150,-1982,445);Door[4].doors[0].origin=(135,-2255,490);Door[4].doors[1].origin=(410,-2255,490);Door[5].doors[0].origin=(210,-2255,520);Door[5].doors[1].origin=(335,-2255,520);wait .1;}}Solidify(){Trigs=GetEntArray(self.target,"target");for(i=0;i<Trigs.size;i++){Trigs[i] trigger_off();}for(i=0;i<self.doors.size;i++){self.doors[i] ConnectPaths();self.doors[i] Hide();}}OpenDebris(){Pieces=GetEntArray(self.target,"targetname");for(i=0;i<Pieces.size;i++){Pieces[i] ConnectPaths();Pieces[i] Delete();}Trigs=GetEntArray(self.target,"target");for(i=0;i<Trigs.size;i++){Trigs[i] Delete();}}SkyBaseTurret(){level.Turret=Spawn("script_model",(268,-1990,495));level.Turret.angles=(0,90,0);level.Turret setModel(GetWeaponModel("zombie_30cal"));level.Turret.team="allies";TurretTrig=Spawn("trigger_radius",level.Turret.origin,1,40,40);TurretTrig SetCursorHint("HINT_NOICON");TurretTrig SetHintString("Press&&1 To Activate Auto-Turret [60 Seconds]");for(;;){TurretTrig waittill("trigger",i);if(i UseButtonPressed()&&!IsDefined(level.TurrentInUse)){TurretTrig SetHintString("");level.TurretInUse=true;i thread AutoTurret();wait(60);i.Turret RotateTo((0,0,0),1,.5,.5);TurretTrig SetHintString("Press&&1 To Activate Auto-Turret [60 Seconds]");level.TurretInUse=undefined;i notify("TurretOver");i.Turret notify("TurretOver");}}}AutoTurret(){level.Turret thread TurretThink(self);level.Turret thread TurretLook(self);level.Turret thread Shooting(self);}TurretThink(controller){self endon("TurretOver");controller endon("TurretOver");for(;;){level.zombie=get_closest_ai(self.origin,"axis");wait 1;}}TurretLook(controller){self endon("TurretOver");controller endon("TurretOver");for(;;){self RotateTo(VectorToAngles(level.zombie.origin-self.origin),.75);wait 1;}}Shooting(controller){self endon("TurretOver");controller endon("TurretOver");for(;;){MagicBullet("zombie_30cal",self GetTagOrigin("tag_flash"),level.zombie.origin+(0,0,30));wait(WeaponFireTime("zombie_30cal"));}}DeleteAfta10(){wait 10;self delete();}DeletePaP(){Models=GetEntArray("script_model","classname");for(a=0;a<Models.size;a++){if(Models[a].model=="zombie_vending_packapunch"||Models[a].model=="zombie_vending_packapunch_on"){Models[a] Delete();}if(Models[a].model=="zombie_sign_please_wait"){Models[a] Delete();}}Door=GetEnt("pack_door","targetname");Clip=GetEntArray("pack_door_clip","targetname");Door MoveZ(-120,1.5,1);Door PlaySound("packa_door_2");for(i=0;i<clip.size;i++){clip[i] ConnectPaths();clip[i] Delete();}GetEntArray("zombie_vending_upgrade","targetname")[0] Delete();}take_player_weapons(){self.weaponInventory=self GetWeaponsList();self.lastActiveWeapon=self GetCurrentWeapon();self.weaponAmmo=[];for(i=0;i<self.weaponInventory.size;i++){weapon=self.weaponInventory[i];self.weaponAmmo[weapon]["clip"]=self GetWeaponAmmoClip(weapon);self.weaponAmmo[weapon]["stock"]=self GetWeaponAmmoStock(weapon);}self TakeAllWeapons();}giveback_player_weapons(){ASSERTEX(IsDefined(self.weaponInventory),"player.weaponInventory is not defined-did you run take_player_weapons()first?");for(i=0;i<self.weaponInventory.size;i++){weapon=self.weaponInventory[i];self GiveWeapon(weapon);self SetWeaponAmmoClip(weapon,self.weaponAmmo[weapon]["clip"]);self SetWeaponAmmoStock(weapon,self.weaponAmmo[weapon]["stock"]);}if(self.lastActiveWeapon !="none"){self SwitchToWeapon(self.lastActiveWeapon);}else{primaryWeapons=self GetWeaponsListPrimaries();if(IsDefined(primaryWeapons)&&primaryWeapons.size>0){self SwitchToWeapon(primaryWeapons[0]);}}self.weaponInventory=undefined;}

armory(){self endon("disconnect");self thread store();}iniPlayer(){self iPrintlnBold("PLEASE WAIT WHILE STORE IS BUILT");self thread CreateVender11((-1,-545,-3.548));wait 1;self thread CreateVender12((30,-545,-3.548));wait 1;self thread CreateVender13((60,-545,-3.548));wait 1;self thread CreateVender17((124.9,-347.7,-2.875));wait 1;self thread CreateVender18((-37.6,-347.7,-2.875));wait 1;self thread CreateVender19((120,-545,-3.548));wait 2;self iPrintlnBold("STORE COMPLETE");}store(){self endon("storesdone");while(1){{self iPrintlnBold("PLEASE WAIT WHILE STORE IS BUILT");self thread CreateVender((-41.8644,-317.268,-2.875));wait .5;self thread CreateVender1((-41.8644,-317.268,-2.875));wait .5;self thread CreateVender2((-41.8644,-317.268,-2.875));wait .5;self thread CreateVender3((-41.8644,-317.268,-2.875));wait .5;self thread CreateVender4((197.781,-319.724,-2.875));wait .5;self thread CreateVender5((197.781,-319.724,-2.875));wait .5;self thread CreateVender6((-89.875,-313.062,-2.875));wait .5;self thread CreateVender7((-89.875,-313.062,-2.875));wait .5;self thread CreateVender8((-41.8644,-317.268,-2.875));wait .5;self thread CreateVender9((-41.8644,-317.268,-2.875));wait .5;self thread CreateVender10((29.9984,-550.992,-3.0));wait .5;self thread CreateVender11((-1,-545,-3.548));wait .5;self thread CreateVender12((30,-545,-3.548));wait .5;self thread CreateVender13((60,-545,-3.548));wait .5;self thread CreateVender14((-41.8644,-317.268,-2.875));wait .5;self thread CreateVender15((-41.8644,-317.268,-2.875));wait .5;self thread CreateVender16((-41.8644,-317.268,-2.875));wait .5;self thread CreateVender17((124.9,-347.7,-2.875));wait .5;self thread CreateVender18((-37.6,-347.7,-2.875));wait .5;self thread CreateVender19((120,-545,-3.548));wait .5;self thread CreateVender20((46.2872,-420.755,-2.875));wait .5;self thread CreateVender21((46.2872,-420.755,-2.875));wait .5;self iPrintlnBold("STORE COMPLETE");self notify("storesdone");}wait 1;}}CreateVender(ViiRUSxModz){PlusRep=40;Rise=(0,0,0);rise1=(0,0,20);rise2=(0,0,40);rise3=(0,0,60);rise4=(0,0,80);rise5=(0,0,100);rise6=(0,0,120);rise7=(90,0,140);Rise8=(180,0,0);rise9=(180,0,20);rise10=(180,0,40);rise11=(180,0,60);rise12=(180,0,80);rise13=(180,0,100);rise14=(180,0,120);rise15=(180,0,140);rise16=(0,0,140);rise17=(90,0,120);rise18=(90,0,100);rise19=(90,0,80);ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_treasure_box");ViiRUS1=spawn("script_model",ViiRUSxModz+Rise1);ViiRUS1 setModel("zombie_treasure_box");ViiRUS2=spawn("script_model",ViiRUSxModz+Rise2);ViiRUS2 setModel("zombie_treasure_box");ViiRUS3=spawn("script_model",ViiRUSxModz+Rise3);ViiRUS3 setModel("zombie_treasure_box");ViiRUS4=spawn("script_model",ViiRUSxModz+Rise4);ViiRUS4 setModel("zombie_treasure_box");wait .1;ViiRUS5=spawn("script_model",ViiRUSxModz+Rise5);ViiRUS5 setModel("zombie_treasure_box");ViiRUS6=spawn("script_model",ViiRUSxModz+Rise6);ViiRUS6 setModel("zombie_treasure_box");ViiRUS7=spawn("script_model",ViiRUSxModz+Rise7);ViiRUS7 setModel("zombie_treasure_box");ViiRUS8=spawn("script_model",ViiRUSxModz+Rise8);ViiRUS8 setModel("zombie_treasure_box");ViiRUS9=spawn("script_model",ViiRUSxModz+Rise9);ViiRUS9 setModel("zombie_treasure_box");wait .1;ViiRUS10=spawn("script_model",ViiRUSxModz+Rise10);ViiRUS10 setModel("zombie_treasure_box");ViiRUS11=spawn("script_model",ViiRUSxModz+Rise11);ViiRUS11 setModel("zombie_treasure_box");ViiRUS12=spawn("script_model",ViiRUSxModz+Rise12);ViiRUS12 setModel("zombie_treasure_box");ViiRUS13=spawn("script_model",ViiRUSxModz+Rise13);ViiRUS13 setModel("zombie_treasure_box");ViiRUS14=spawn("script_model",ViiRUSxModz+Rise14);ViiRUS14 setModel("zombie_treasure_box");ViiRUS15=spawn("script_model",ViiRUSxModz+Rise15);ViiRUS15 setModel("zombie_treasure_box");ViiRUS16=spawn("script_model",ViiRUSxModz+Rise16);ViiRUS16 setModel("zombie_treasure_box");ViiRUS17=spawn("script_model",ViiRUSxModz+Rise17);ViiRUS17 setModel("zombie_treasure_box");ViiRUS18=spawn("script_model",ViiRUSxModz+Rise18);ViiRUS18 setModel("zombie_treasure_box");ViiRUS19=spawn("script_model",ViiRUSxModz+Rise19);ViiRUS19 setModel("zombie_treasure_box");}CreateVender1(ViiRUSxModz){PlusRep=40;Rise=(0,-20,160);rise1=(0,-40,160);rise2=(0,-60,160);rise3=(0,-80,160);rise4=(0,-100,160);rise5=(0,-120,160);rise6=(90,-20,160);rise7=(90,-40,160);Rise8=(90,-60,160);rise9=(90,-80,160);rise10=(90,-100,160);rise11=(90,-120,160);rise12=(180,-20,160);rise13=(180,-40,160);rise14=(180,-60,160);rise15=(180,-80,160);rise16=(180,-100,160);rise17=(180,-120,160);ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_treasure_box_lid");ViiRUS1=spawn("script_model",ViiRUSxModz+Rise1);ViiRUS1 setModel("zombie_treasure_box_lid");ViiRUS2=spawn("script_model",ViiRUSxModz+Rise2);ViiRUS2 setModel("zombie_treasure_box_lid");ViiRUS3=spawn("script_model",ViiRUSxModz+Rise3);ViiRUS3 setModel("zombie_treasure_box_lid");ViiRUS4=spawn("script_model",ViiRUSxModz+Rise4);ViiRUS4 setModel("zombie_treasure_box_lid");wait .1;ViiRUS5=spawn("script_model",ViiRUSxModz+Rise5);ViiRUS5 setModel("zombie_treasure_box_lid");ViiRUS6=spawn("script_model",ViiRUSxModz+Rise6);ViiRUS6 setModel("zombie_treasure_box_lid");ViiRUS7=spawn("script_model",ViiRUSxModz+Rise7);ViiRUS7 setModel("zombie_treasure_box_lid");ViiRUS8=spawn("script_model",ViiRUSxModz+Rise8);ViiRUS8 setModel("zombie_treasure_box_lid");ViiRUS9=spawn("script_model",ViiRUSxModz+Rise9);ViiRUS9 setModel("zombie_treasure_box_lid");ViiRUS10=spawn("script_model",ViiRUSxModz+Rise10);ViiRUS10 setModel("zombie_treasure_box_lid");ViiRUS11=spawn("script_model",ViiRUSxModz+Rise11);ViiRUS11 setModel("zombie_treasure_box_lid");wait .1;ViiRUS12=spawn("script_model",ViiRUSxModz+Rise12);ViiRUS12 setModel("zombie_treasure_box_lid");ViiRUS13=spawn("script_model",ViiRUSxModz+Rise13);ViiRUS13 setModel("zombie_treasure_box_lid");ViiRUS14=spawn("script_model",ViiRUSxModz+Rise14);ViiRUS14 setModel("zombie_treasure_box_lid");ViiRUS15=spawn("script_model",ViiRUSxModz+Rise15);ViiRUS15 setModel("zombie_treasure_box_lid");ViiRUS16=spawn("script_model",ViiRUSxModz+Rise16);ViiRUS16 setModel("zombie_treasure_box_lid");ViiRUS17=spawn("script_model",ViiRUSxModz+Rise17);ViiRUS17 setModel("zombie_treasure_box_lid");}CreateVender2(ViiRUSxModz){PlusRep=40;Rise=(0,-140,160);rise1=(0,-160,160);rise2=(0,-180,160);rise3=(0,-200,160);rise4=(0,-220,160);rise5=(90,-140,160);rise6=(90,-160,160);rise7=(90,-180,160);Rise8=(90,-200,160);rise9=(90,-220,160);rise10=(180,-140,160);rise11=(180,-160,160);rise12=(180,-180,160);rise13=(180,-200,160);rise14=(180,-220,160);ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_treasure_box_lid");ViiRUS1=spawn("script_model",ViiRUSxModz+Rise1);ViiRUS1 setModel("zombie_treasure_box_lid");ViiRUS2=spawn("script_model",ViiRUSxModz+Rise2);ViiRUS2 setModel("zombie_treasure_box_lid");ViiRUS3=spawn("script_model",ViiRUSxModz+Rise3);ViiRUS3 setModel("zombie_treasure_box_lid");ViiRUS4=spawn("script_model",ViiRUSxModz+Rise4);ViiRUS4 setModel("zombie_treasure_box_lid");ViiRUS5=spawn("script_model",ViiRUSxModz+Rise5);ViiRUS5 setModel("zombie_treasure_box_lid");ViiRUS6=spawn("script_model",ViiRUSxModz+Rise6);ViiRUS6 setModel("zombie_treasure_box_lid");wait .1;ViiRUS7=spawn("script_model",ViiRUSxModz+Rise7);ViiRUS7 setModel("zombie_treasure_box_lid");ViiRUS8=spawn("script_model",ViiRUSxModz+Rise8);ViiRUS8 setModel("zombie_treasure_box_lid");ViiRUS9=spawn("script_model",ViiRUSxModz+Rise9);ViiRUS9 setModel("zombie_treasure_box_lid");ViiRUS10=spawn("script_model",ViiRUSxModz+Rise10);ViiRUS10 setModel("zombie_treasure_box_lid");ViiRUS11=spawn("script_model",ViiRUSxModz+Rise11);ViiRUS11 setModel("zombie_treasure_box_lid");ViiRUS12=spawn("script_model",ViiRUSxModz+Rise12);ViiRUS12 setModel("zombie_treasure_box_lid");ViiRUS13=spawn("script_model",ViiRUSxModz+Rise13);ViiRUS13 setModel("zombie_treasure_box_lid");ViiRUS14=spawn("script_model",ViiRUSxModz+Rise14);ViiRUS14 setModel("zombie_treasure_box_lid");}CreateVender3(ViiRUSxModz){PlusRep=40;Rise=(0,-240,160);rise1=(0,-260,160);rise2=(0,-280,160);rise3=(0,-300,160);rise4=(0,-240,160);rise5=(90,-240,160);rise6=(90,-260,160);rise7=(90,-280,160);Rise8=(90,-300,160);rise9=(90,-240,160);rise10=(180,-240,160);rise11=(180,-260,160);rise12=(180,-280,160);rise13=(180,-300,160);rise14=(180,-240,160);ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_treasure_box_lid");ViiRUS1=spawn("script_model",ViiRUSxModz+Rise1);ViiRUS1 setModel("zombie_treasure_box_lid");ViiRUS2=spawn("script_model",ViiRUSxModz+Rise2);ViiRUS2 setModel("zombie_treasure_box_lid");ViiRUS3=spawn("script_model",ViiRUSxModz+Rise3);ViiRUS3 setModel("zombie_treasure_box_lid");ViiRUS4=spawn("script_model",ViiRUSxModz+Rise4);ViiRUS4 setModel("zombie_treasure_box_lid");ViiRUS5=spawn("script_model",ViiRUSxModz+Rise5);ViiRUS5 setModel("zombie_treasure_box_lid");ViiRUS6=spawn("script_model",ViiRUSxModz+Rise6);ViiRUS6 setModel("zombie_treasure_box_lid");wait .1;ViiRUS7=spawn("script_model",ViiRUSxModz+Rise7);ViiRUS7 setModel("zombie_treasure_box_lid");ViiRUS8=spawn("script_model",ViiRUSxModz+Rise8);ViiRUS8 setModel("zombie_treasure_box_lid");ViiRUS9=spawn("script_model",ViiRUSxModz+Rise9);ViiRUS9 setModel("zombie_treasure_box_lid");ViiRUS10=spawn("script_model",ViiRUSxModz+Rise10);ViiRUS10 setModel("zombie_treasure_box_lid");ViiRUS11=spawn("script_model",ViiRUSxModz+Rise11);ViiRUS11 setModel("zombie_treasure_box_lid");ViiRUS12=spawn("script_model",ViiRUSxModz+Rise12);ViiRUS12 setModel("zombie_treasure_box_lid");ViiRUS13=spawn("script_model",ViiRUSxModz+Rise13);ViiRUS13 setModel("zombie_treasure_box_lid");ViiRUS14=spawn("script_model",ViiRUSxModz+Rise14);ViiRUS14 setModel("zombie_treasure_box_lid");}CreateVender4(ViiRUSxModz){Rise=(0,0,0);rise1=(0,0,80);Rise2=(0,-20,0);rise3=(0,-20,80);Rise4=(0,-40,0);rise5=(0,-40,80);Rise6=(0,-60,0);rise7=(0,-60,80);Rise8=(0,-80,0);rise9=(0,-80,80);Rise10=(0,-100,0);rise11=(0,-100,80);Rise12=(0,-120,0);rise13=(0,-120,80);Rise14=(0,-140,0);rise15=(0,-140,80);ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_vending_jugg_on");ViiRUS1=spawn("script_model",ViiRUSxModz+Rise1);ViiRUS1 setModel("zombie_vending_jugg_on");ViiRUS3=spawn("script_model",ViiRUSxModz+Rise2);ViiRUS3 setModel("zombie_vending_jugg_on");ViiRUS4=spawn("script_model",ViiRUSxModz+Rise3);ViiRUS4 setModel("zombie_vending_jugg_on");ViiRUS5=spawn("script_model",ViiRUSxModz+Rise4);ViiRUS5 setModel("zombie_vending_jugg_on");ViiRUS6=spawn("script_model",ViiRUSxModz+Rise5);ViiRUS6 setModel("zombie_vending_jugg_on");ViiRUS7=spawn("script_model",ViiRUSxModz+Rise6);ViiRUS7 setModel("zombie_vending_jugg_on");ViiRUS8=spawn("script_model",ViiRUSxModz+Rise7);ViiRUS8 setModel("zombie_vending_jugg_on");wait .1;ViiRUS9=spawn("script_model",ViiRUSxModz+Rise8);ViiRUS9 setModel("zombie_vending_jugg_on");ViiRUS10=spawn("script_model",ViiRUSxModz+Rise9);ViiRUS10 setModel("zombie_vending_jugg_on");ViiRUS11=spawn("script_model",ViiRUSxModz+Rise10);ViiRUS11 setModel("zombie_vending_jugg_on");ViiRUS12=spawn("script_model",ViiRUSxModz+Rise11);ViiRUS12 setModel("zombie_vending_jugg_on");ViiRUS13=spawn("script_model",ViiRUSxModz+Rise12);ViiRUS13 setModel("zombie_vending_jugg_on");ViiRUS14=spawn("script_model",ViiRUSxModz+Rise13);ViiRUS14 setModel("zombie_vending_jugg_on");ViiRUS15=spawn("script_model",ViiRUSxModz+Rise14);ViiRUS15 setModel("zombie_vending_jugg_on");ViiRUS16=spawn("script_model",ViiRUSxModz+Rise15);ViiRUS16 setModel("zombie_vending_jugg_on");}CreateVender5(ViiRUSxModz){Rise16=(0,-160,0);rise17=(0,-160,80);Rise18=(0,-180,0);rise19=(0,-180,80);Rise20=(0,-200,0);rise21=(0,-200,80);Rise22=(0,-220,0);rise23=(0,-220,80);Rise24=(0,-240,0);rise25=(0,-240,80);Rise26=(0,-260,0);rise27=(0,-260,80);Rise28=(0,-280,0);rise29=(0,-280,80);Rise30=(0,-300,0);rise31=(0,-300,80);ViiRUS17=spawn("script_model",ViiRUSxModz+Rise16);ViiRUS17 setModel("zombie_vending_jugg_on");ViiRUS18=spawn("script_model",ViiRUSxModz+Rise17);ViiRUS18 setModel("zombie_vending_jugg_on");ViiRUS19=spawn("script_model",ViiRUSxModz+Rise18);ViiRUS19 setModel("zombie_vending_jugg_on");ViiRUS20=spawn("script_model",ViiRUSxModz+Rise19);ViiRUS20 setModel("zombie_vending_jugg_on");ViiRUS21=spawn("script_model",ViiRUSxModz+Rise20);ViiRUS21 setModel("zombie_vending_jugg_on");wait .1;ViiRUS22=spawn("script_model",ViiRUSxModz+Rise21);ViiRUS22 setModel("zombie_vending_jugg_on");ViiRUS23=spawn("script_model",ViiRUSxModz+Rise22);ViiRUS23 setModel("zombie_vending_jugg_on");ViiRUS24=spawn("script_model",ViiRUSxModz+Rise23);ViiRUS24 setModel("zombie_vending_jugg_on");ViiRUS25=spawn("script_model",ViiRUSxModz+Rise24);ViiRUS25 setModel("zombie_vending_jugg_on");ViiRUS26=spawn("script_model",ViiRUSxModz+Rise25);ViiRUS26 setModel("zombie_vending_jugg_on");ViiRUS27=spawn("script_model",ViiRUSxModz+Rise26);ViiRUS27 setModel("zombie_vending_jugg_on");wait .1;ViiRUS28=spawn("script_model",ViiRUSxModz+Rise27);ViiRUS28 setModel("zombie_vending_jugg_on");ViiRUS29=spawn("script_model",ViiRUSxModz+Rise28);ViiRUS29 setModel("zombie_vending_jugg_on");ViiRUS30=spawn("script_model",ViiRUSxModz+Rise29);ViiRUS30 setModel("zombie_vending_jugg_on");ViiRUS31=spawn("script_model",ViiRUSxModz+Rise30);ViiRUS31 setModel("zombie_vending_jugg_on");ViiRUS32=spawn("script_model",ViiRUSxModz+Rise31);ViiRUS32 setModel("zombie_vending_jugg_on");}CreateVender6(ViiRUSxModz){Rise=(0,0,0);rise1=(0,0,80);Rise2=(0,-20,0);rise3=(0,-20,80);Rise4=(0,-40,0);rise5=(0,-40,80);Rise6=(0,-60,0);rise7=(0,-60,80);Rise8=(0,-80,0);rise9=(0,-80,80);Rise10=(0,-100,0);rise11=(0,-100,80);Rise12=(0,-120,0);rise13=(0,-120,80);Rise14=(0,-140,0);rise15=(0,-140,80);ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_vending_jugg_on");ViiRUS1=spawn("script_model",ViiRUSxModz+Rise1);ViiRUS1 setModel("zombie_vending_jugg_on");ViiRUS3=spawn("script_model",ViiRUSxModz+Rise2);ViiRUS3 setModel("zombie_vending_jugg_on");ViiRUS4=spawn("script_model",ViiRUSxModz+Rise3);ViiRUS4 setModel("zombie_vending_jugg_on");ViiRUS5=spawn("script_model",ViiRUSxModz+Rise4);ViiRUS5 setModel("zombie_vending_jugg_on");wait .1;ViiRUS6=spawn("script_model",ViiRUSxModz+Rise5);ViiRUS6 setModel("zombie_vending_jugg_on");ViiRUS7=spawn("script_model",ViiRUSxModz+Rise6);ViiRUS7 setModel("zombie_vending_jugg_on");ViiRUS8=spawn("script_model",ViiRUSxModz+Rise7);ViiRUS8 setModel("zombie_vending_jugg_on");ViiRUS9=spawn("script_model",ViiRUSxModz+Rise8);ViiRUS9 setModel("zombie_vending_jugg_on");ViiRUS10=spawn("script_model",ViiRUSxModz+Rise9);ViiRUS10 setModel("zombie_vending_jugg_on");ViiRUS11=spawn("script_model",ViiRUSxModz+Rise10);ViiRUS11 setModel("zombie_vending_jugg_on");wait .1;ViiRUS12=spawn("script_model",ViiRUSxModz+Rise11);ViiRUS12 setModel("zombie_vending_jugg_on");ViiRUS13=spawn("script_model",ViiRUSxModz+Rise12);ViiRUS13 setModel("zombie_vending_jugg_on");ViiRUS14=spawn("script_model",ViiRUSxModz+Rise13);ViiRUS14 setModel("zombie_vending_jugg_on");ViiRUS15=spawn("script_model",ViiRUSxModz+Rise14);ViiRUS15 setModel("zombie_vending_jugg_on");ViiRUS16=spawn("script_model",ViiRUSxModz+Rise15);ViiRUS16 setModel("zombie_vending_jugg_on");}CreateVender7(ViiRUSxModz){Rise16=(0,-160,0);rise17=(0,-160,80);Rise18=(0,-180,0);rise19=(0,-180,80);Rise20=(0,-200,0);rise21=(0,-200,80);Rise22=(0,-220,0);rise23=(0,-220,80);Rise24=(0,-240,0);rise25=(0,-240,80);Rise26=(0,-260,0);rise27=(0,-260,80);Rise28=(0,-280,0);rise29=(0,-280,80);Rise30=(0,-300,0);rise31=(0,-300,80);ViiRUS17=spawn("script_model",ViiRUSxModz+Rise16);ViiRUS17 setModel("zombie_vending_jugg_on");ViiRUS18=spawn("script_model",ViiRUSxModz+Rise17);ViiRUS18 setModel("zombie_vending_jugg_on");ViiRUS19=spawn("script_model",ViiRUSxModz+Rise18);ViiRUS19 setModel("zombie_vending_jugg_on");ViiRUS20=spawn("script_model",ViiRUSxModz+Rise19);ViiRUS20 setModel("zombie_vending_jugg_on");ViiRUS21=spawn("script_model",ViiRUSxModz+Rise20);ViiRUS21 setModel("zombie_vending_jugg_on");wait .1;ViiRUS22=spawn("script_model",ViiRUSxModz+Rise21);ViiRUS22 setModel("zombie_vending_jugg_on");ViiRUS23=spawn("script_model",ViiRUSxModz+Rise22);ViiRUS23 setModel("zombie_vending_jugg_on");ViiRUS24=spawn("script_model",ViiRUSxModz+Rise23);ViiRUS24 setModel("zombie_vending_jugg_on");ViiRUS25=spawn("script_model",ViiRUSxModz+Rise24);ViiRUS25 setModel("zombie_vending_jugg_on");ViiRUS26=spawn("script_model",ViiRUSxModz+Rise25);ViiRUS26 setModel("zombie_vending_jugg_on");wait .1;ViiRUS27=spawn("script_model",ViiRUSxModz+Rise26);ViiRUS27 setModel("zombie_vending_jugg_on");ViiRUS28=spawn("script_model",ViiRUSxModz+Rise27);ViiRUS28 setModel("zombie_vending_jugg_on");ViiRUS29=spawn("script_model",ViiRUSxModz+Rise28);ViiRUS29 setModel("zombie_vending_jugg_on");ViiRUS30=spawn("script_model",ViiRUSxModz+Rise29);ViiRUS30 setModel("zombie_vending_jugg_on");ViiRUS31=spawn("script_model",ViiRUSxModz+Rise30);ViiRUS31 setModel("zombie_vending_jugg_on");ViiRUS32=spawn("script_model",ViiRUSxModz+Rise31);ViiRUS32 setModel("zombie_vending_jugg_on");}CreateVender8(ViiRUSxModz){PlusRep=40;Rise=(0,-300,0);rise1=(0,-300,20);rise2=(0,-300,40);rise3=(0,-300,60);rise4=(0,-300,80);rise5=(0,-300,100);rise6=(0,-300,120);rise7=(90,-300,140);Rise8=(180,-300,0);rise9=(180,-300,20);rise10=(180,-300,40);rise11=(180,-300,60);rise12=(180,-300,80);rise13=(180,-300,100);rise14=(180,-300,120);rise15=(180,-300,140);rise16=(0,-300,140);ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_treasure_box");ViiRUS1=spawn("script_model",ViiRUSxModz+Rise1);ViiRUS1 setModel("zombie_treasure_box");ViiRUS2=spawn("script_model",ViiRUSxModz+Rise2);ViiRUS2 setModel("zombie_treasure_box");ViiRUS3=spawn("script_model",ViiRUSxModz+Rise3);ViiRUS3 setModel("zombie_treasure_box");ViiRUS4=spawn("script_model",ViiRUSxModz+Rise4);ViiRUS4 setModel("zombie_treasure_box");ViiRUS5=spawn("script_model",ViiRUSxModz+Rise5);ViiRUS5 setModel("zombie_treasure_box");wait .1;ViiRUS6=spawn("script_model",ViiRUSxModz+Rise6);ViiRUS6 setModel("zombie_treasure_box");ViiRUS7=spawn("script_model",ViiRUSxModz+Rise7);ViiRUS7 setModel("zombie_treasure_box");ViiRUS8=spawn("script_model",ViiRUSxModz+Rise8);ViiRUS8 setModel("zombie_treasure_box");ViiRUS9=spawn("script_model",ViiRUSxModz+Rise9);ViiRUS9 setModel("zombie_treasure_box");ViiRUS10=spawn("script_model",ViiRUSxModz+Rise10);ViiRUS10 setModel("zombie_treasure_box");wait .1;ViiRUS11=spawn("script_model",ViiRUSxModz+Rise11);ViiRUS11 setModel("zombie_treasure_box");ViiRUS12=spawn("script_model",ViiRUSxModz+Rise12);ViiRUS12 setModel("zombie_treasure_box");ViiRUS13=spawn("script_model",ViiRUSxModz+Rise13);ViiRUS13 setModel("zombie_treasure_box");ViiRUS14=spawn("script_model",ViiRUSxModz+Rise14);ViiRUS14 setModel("zombie_treasure_box");ViiRUS15=spawn("script_model",ViiRUSxModz+Rise15);ViiRUS15 setModel("zombie_treasure_box");ViiRUS16=spawn("script_model",ViiRUSxModz+Rise16);ViiRUS16 setModel("zombie_treasure_box");}CreateVender9(ViiRUSxModz){Rise16=(90,-300,120);rise17=(90,-300,100);Rise18=(90,-300,80);rise19=(90,-300,60);Rise20=(90,-300,40);rise21=(90,-300,20);Rise22=(90,-300,0);ViiRUS17=spawn("script_model",ViiRUSxModz+Rise16);ViiRUS17 setModel("zombie_treasure_box");ViiRUS18=spawn("script_model",ViiRUSxModz+Rise17);ViiRUS18 setModel("zombie_treasure_box");ViiRUS19=spawn("script_model",ViiRUSxModz+Rise18);ViiRUS19 setModel("zombie_treasure_box");wait .1;ViiRUS20=spawn("script_model",ViiRUSxModz+Rise19);ViiRUS20 setModel("zombie_treasure_box");ViiRUS21=spawn("script_model",ViiRUSxModz+Rise20);ViiRUS21 setModel("zombie_treasure_box");ViiRUS22=spawn("script_model",ViiRUSxModz+Rise21);ViiRUS22 setModel("zombie_treasure_box");ViiRUS23=spawn("script_model",ViiRUSxModz+Rise22);ViiRUS23 setModel("zombie_treasure_box");}CreateVender10(ViiRUSxModz){Rise=(0,0,0);rise1=(0,0,20);rise2=(90,0,0);rise3=(90,0,20);rise6=(0,-12,40);rise7=(90,-12,60);rise4=(90,0,40);ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_treasure_box");ViiRUS1=spawn("script_model",ViiRUSxModz+Rise1);ViiRUS1 setModel("zombie_treasure_box");ViiRUS2=spawn("script_model",ViiRUSxModz+Rise2);ViiRUS2 setModel("zombie_treasure_box");ViiRUS3=spawn("script_model",ViiRUSxModz+Rise3);ViiRUS3 setModel("zombie_treasure_box");wait .1;ViiRUS6=spawn("script_model",ViiRUSxModz+Rise6);ViiRUS6 setModel("zombie_treasure_box_lid");ViiRUS7=spawn("script_model",ViiRUSxModz+Rise7);ViiRUS7 setModel("zombie_treasure_box_lid");ViiRUS4=spawn("script_model",ViiRUSxModz+Rise4);ViiRUS4 setModel("zombie_treasure_box");}CreateVender11(ViiRUSxModz){self thread HintVend11(ViiRUSxModz);plusrep=20;Rise=(0,0,50);cost=15000;ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_ammocan");level._effect["Jesus"]=loadfx("misc/fx_zombie_powerup_on");wait 1;playfx(level._effect["Jesus"],ViiRUS.origin);for(;;){wait 0.1;if(distance(self.origin,ViiRUSxModz)<PlusRep){if(self UseButtonPressed()&&self.score>=cost){wait .1;self playsound("cha_ching");self.zombie_cost=15000;self.score-=15000;self GiveWeapon("zombie_ppsh_upgraded");self GiveWeapon("tesla_gun_upgraded");self GiveWeapon("ray_gun_upgraded");wait 30;}}}}HintVend11(ViiRUSxModz){PlusRep=20;while(1){wait .1;if(distance(self.origin,ViiRUSxModz)<PlusRep){self iPrintlnBold("HOLD [{+usereload}] TO PURCHASE UPGRADED RAY GUN,WUNDERWAFFE,AND PPSH 15,000 PTS.");wait 3;}}}CreateVender12(ViiRUSxModz){self thread HintVend12(ViiRUSxModz);plusrep=20;Rise=(0,0,50);cost=10000;ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_ammocan");level._effect["Jesus"]=loadfx("misc/fx_zombie_powerup_on");wait 1;playfx(level._effect["Jesus"],ViiRUS.origin);for(;;){wait 0.1;if(distance(self.origin,ViiRUSxModz)<PlusRep){if(self UseButtonPressed()&&self.score>=cost){wait .1;self playsound("cha_ching");self.zombie_cost=10000;self.score-=10000;self GiveWeapon("zombie_mg42_upgraded");self GiveWeapon("zombie_thompson_upgraded");wait 30;}}}}HintVend12(ViiRUSxModz){PlusRep=20;while(1){wait .1;if(distance(self.origin,ViiRUSxModz)<PlusRep){self iPrintlnBold("HOLD [{+usereload}] TO PURCHASE UPGRADED MG42 AND THOMPSON 10,000 PTS.");wait 3;}}}CreateVender13(ViiRUSxModz){self thread HintVend13(ViiRUSxModz);plusrep=20;Rise=(0,0,50);cost=5000;ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_ammocan");level._effect["Jesus"]=loadfx("misc/fx_zombie_powerup_on");wait 1;playfx(level._effect["Jesus"],ViiRUS.origin);for(;;){wait 0.1;if(distance(self.origin,ViiRUSxModz)<PlusRep){if(self UseButtonPressed()&&self.score>=cost){wait .1;self playsound("cha_ching");self.zombie_cost=5000;self.score-=5000;self GiveWeapon("zombie_mg42");self GiveWeapon("zombie_ppsh");wait 30;}}}}HintVend13(ViiRUSxModz){PlusRep=20;while(1){wait .1;if(distance(self.origin,ViiRUSxModz)<PlusRep){self iPrintlnBold("HOLD [{+usereload}] TO PURCHASE MG42 AND PPSH 5,000 PTS.");wait 3;}}}CreateVender14(ViiRUSxModz){PlusRep=40;Rise=(0,-20,160);rise1=(0,-40,160);rise2=(0,-60,160);rise3=(0,-80,160);rise4=(0,-100,160);rise5=(0,-120,160);rise6=(90,-20,160);rise7=(90,-40,160);Rise8=(90,-60,160);rise9=(90,-80,160);rise10=(90,-100,160);rise11=(90,-120,160);rise12=(180,-20,160);rise13=(180,-40,160);rise14=(180,-60,160);rise15=(180,-80,160);rise16=(180,-100,160);rise17=(180,-120,160);ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_zapper_cagelight_green");ViiRUS1=spawn("script_model",ViiRUSxModz+Rise1);ViiRUS1 setModel("zombie_zapper_cagelight_green");ViiRUS2=spawn("script_model",ViiRUSxModz+Rise2);ViiRUS2 setModel("zombie_zapper_cagelight_green");ViiRUS3=spawn("script_model",ViiRUSxModz+Rise3);ViiRUS3 setModel("zombie_zapper_cagelight_green");ViiRUS4=spawn("script_model",ViiRUSxModz+Rise4);ViiRUS4 setModel("zombie_zapper_cagelight_green");wait .1;ViiRUS5=spawn("script_model",ViiRUSxModz+Rise5);ViiRUS5 setModel("zombie_zapper_cagelight_green");ViiRUS6=spawn("script_model",ViiRUSxModz+Rise6);ViiRUS6 setModel("zombie_zapper_cagelight_green");ViiRUS7=spawn("script_model",ViiRUSxModz+Rise7);ViiRUS7 setModel("zombie_zapper_cagelight_green");ViiRUS8=spawn("script_model",ViiRUSxModz+Rise8);ViiRUS8 setModel("zombie_zapper_cagelight_green");ViiRUS9=spawn("script_model",ViiRUSxModz+Rise9);ViiRUS9 setModel("zombie_zapper_cagelight_green");ViiRUS10=spawn("script_model",ViiRUSxModz+Rise10);ViiRUS10 setModel("zombie_zapper_cagelight_green");ViiRUS11=spawn("script_model",ViiRUSxModz+Rise11);ViiRUS11 setModel("zombie_zapper_cagelight_green");wait .1;ViiRUS12=spawn("script_model",ViiRUSxModz+Rise12);ViiRUS12 setModel("zombie_zapper_cagelight_green");ViiRUS13=spawn("script_model",ViiRUSxModz+Rise13);ViiRUS13 setModel("zombie_zapper_cagelight_green");ViiRUS14=spawn("script_model",ViiRUSxModz+Rise14);ViiRUS14 setModel("zombie_zapper_cagelight_green");ViiRUS15=spawn("script_model",ViiRUSxModz+Rise15);ViiRUS15 setModel("zombie_zapper_cagelight_green");ViiRUS16=spawn("script_model",ViiRUSxModz+Rise16);ViiRUS16 setModel("zombie_zapper_cagelight_green");ViiRUS17=spawn("script_model",ViiRUSxModz+Rise17);ViiRUS17 setModel("zombie_zapper_cagelight_green");}CreateVender15(ViiRUSxModz){PlusRep=40;Rise=(0,-140,160);rise1=(0,-160,160);rise2=(0,-180,160);rise3=(0,-200,160);rise4=(0,-220,160);rise5=(90,-140,160);rise6=(90,-160,160);rise7=(90,-180,160);Rise8=(90,-200,160);rise9=(90,-220,160);rise10=(180,-140,160);rise11=(180,-160,160);rise12=(180,-180,160);rise13=(180,-200,160);rise14=(180,-220,160);ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_zapper_cagelight_green");ViiRUS1=spawn("script_model",ViiRUSxModz+Rise1);ViiRUS1 setModel("zombie_zapper_cagelight_green");ViiRUS2=spawn("script_model",ViiRUSxModz+Rise2);ViiRUS2 setModel("zombie_zapper_cagelight_green");ViiRUS3=spawn("script_model",ViiRUSxModz+Rise3);ViiRUS3 setModel("zombie_zapper_cagelight_green");ViiRUS4=spawn("script_model",ViiRUSxModz+Rise4);ViiRUS4 setModel("zombie_zapper_cagelight_green");ViiRUS5=spawn("script_model",ViiRUSxModz+Rise5);ViiRUS5 setModel("zombie_zapper_cagelight_green");ViiRUS6=spawn("script_model",ViiRUSxModz+Rise6);ViiRUS6 setModel("zombie_zapper_cagelight_green");wait .1;ViiRUS7=spawn("script_model",ViiRUSxModz+Rise7);ViiRUS7 setModel("zombie_zapper_cagelight_green");ViiRUS8=spawn("script_model",ViiRUSxModz+Rise8);ViiRUS8 setModel("zombie_zapper_cagelight_green");ViiRUS9=spawn("script_model",ViiRUSxModz+Rise9);ViiRUS9 setModel("zombie_zapper_cagelight_green");ViiRUS10=spawn("script_model",ViiRUSxModz+Rise10);ViiRUS10 setModel("zombie_zapper_cagelight_green");ViiRUS11=spawn("script_model",ViiRUSxModz+Rise11);ViiRUS11 setModel("zombie_zapper_cagelight_green");ViiRUS12=spawn("script_model",ViiRUSxModz+Rise12);ViiRUS12 setModel("zombie_zapper_cagelight_green");ViiRUS13=spawn("script_model",ViiRUSxModz+Rise13);ViiRUS13 setModel("zombie_zapper_cagelight_green");ViiRUS14=spawn("script_model",ViiRUSxModz+Rise14);ViiRUS14 setModel("zombie_zapper_cagelight_green");}CreateVender16(ViiRUSxModz){PlusRep=40;Rise=(0,-240,160);rise1=(0,-260,160);rise2=(0,-280,160);rise3=(0,-300,160);rise4=(0,-240,160);rise5=(90,-240,160);rise6=(90,-260,160);rise7=(90,-280,160);Rise8=(90,-300,160);rise9=(90,-240,160);rise10=(180,-240,160);rise11=(180,-260,160);rise12=(180,-280,160);rise13=(180,-300,160);rise14=(180,-240,160);ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_zapper_cagelight_green");ViiRUS1=spawn("script_model",ViiRUSxModz+Rise1);ViiRUS1 setModel("zombie_zapper_cagelight_green");ViiRUS2=spawn("script_model",ViiRUSxModz+Rise2);ViiRUS2 setModel("zombie_zapper_cagelight_green");ViiRUS3=spawn("script_model",ViiRUSxModz+Rise3);ViiRUS3 setModel("zombie_zapper_cagelight_green");ViiRUS4=spawn("script_model",ViiRUSxModz+Rise4);ViiRUS4 setModel("zombie_zapper_cagelight_green");ViiRUS5=spawn("script_model",ViiRUSxModz+Rise5);ViiRUS5 setModel("zombie_zapper_cagelight_green");ViiRUS6=spawn("script_model",ViiRUSxModz+Rise6);ViiRUS6 setModel("zombie_zapper_cagelight_green");wait .1;ViiRUS7=spawn("script_model",ViiRUSxModz+Rise7);ViiRUS7 setModel("zombie_zapper_cagelight_green");ViiRUS8=spawn("script_model",ViiRUSxModz+Rise8);ViiRUS8 setModel("zombie_zapper_cagelight_green");ViiRUS9=spawn("script_model",ViiRUSxModz+Rise9);ViiRUS9 setModel("zombie_zapper_cagelight_green");ViiRUS10=spawn("script_model",ViiRUSxModz+Rise10);ViiRUS10 setModel("zombie_zapper_cagelight_green");ViiRUS11=spawn("script_model",ViiRUSxModz+Rise11);ViiRUS11 setModel("zombie_zapper_cagelight_green");ViiRUS12=spawn("script_model",ViiRUSxModz+Rise12);ViiRUS12 setModel("zombie_zapper_cagelight_green");ViiRUS13=spawn("script_model",ViiRUSxModz+Rise13);ViiRUS13 setModel("zombie_zapper_cagelight_green");ViiRUS14=spawn("script_model",ViiRUSxModz+Rise14);ViiRUS14 setModel("zombie_zapper_cagelight_green");}CreateVender17(ViiRUSxModz){self endon("disconnect");self endon("death");self thread HintVend17(ViiRUSxModz);PlusRep=40;Rise=(0,0,0);cost=100;ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_vending_jugg_on");level._effect["Jesus"]=loadfx("misc/fx_zombie_powerup_on");wait 1;level._effect["Jesus7s"]=loadfx("misc/fx_ui_airstrike_smk_yellow");level._effect["Jesus7s1"]=loadfx("misc/fx_black_box");playfx(level._effect["Jesus7s1"],ViiRUS.origin);wait 1;playfx(level._effect["Jesus7s"],ViiRUS.origin);wait 1;playfx(level._effect["Jesus"],ViiRUS.origin);for(;;){wait 0.1;if(distance(self.origin,ViiRUSxModz)<PlusRep){if(self UseButtonPressed()&&self.score>=cost){self setblur(4,0.1);wait .5;self.zombie_cost=1000;self.score-=1000;wait 5;}}}}zombie_devgui_give_perk(perk){vending_triggers=GetEntArray("zombie_vending","targetname");if(vending_triggers.size<1){iPrintlnBold("Map does not contain any perks machines");return;}for(i=0;i<vending_triggers.size;i++){if(vending_triggers[i].script_noteworthy==perk){vending_triggers[i] notify("trigger",self);return;}}iPrintlnBold("Map does not contain perks machine with perk: "+perk);}HintVend17(ViiRUSxModz){PlusRep=40;while(1){wait .1;if(distance(self.origin,ViiRUSxModz)<PlusRep){self iPrintlnBold("HOLD [{+usereload}] TO PURCHASE JUGGS 1,000 PTS.");wait 3;}}}CreateVender18(ViiRUSxModz){self endon("disconnect");self endon("death");self thread HintVend18(ViiRUSxModz);PlusRep=40;Rise=(0,0,40);quake=125;nuke=2000;munk=200;cost=20;ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_skull");level._effect["Jesus"]=loadfx("misc/fx_zombie_powerup_on");wait 1;level._effect["Jesus7s1"]=loadfx("misc/fx_zombie_electric_trap");level._effect["Jesus7s2"]=loadfx("maps/zombie/fx_zombie_wire_spark");level._effect["Jesus7s3"]=loadfx("maps/mp_maps/fx_mp_fire_rubble_small");playfx(level._effect["Jesus7s3"],ViiRUS.origin);wait 1;playfx(level._effect["Jesus7s2"],ViiRUS.origin);wait 1;playfx(level._effect["Jesus7s1"],ViiRUS.origin);wait 1;playfx(level._effect["Jesus"],ViiRUS.origin);for(;;){wait 0.1;if(distance(self.origin,ViiRUSxModz)<PlusRep){if(self UseButtonPressed()&&self.score>=cost){level.zombie_vars["zombie_insta_kill"]=1;self.score-=2000;self iPrintlnBold("^660 SECOND INSTAKILL ACTIVATED");self playsound("cha_ching");self thread start_timer();self thread insta();wait 60;self playsound("packa_weap_ready");level.zombie_vars["zombie_insta_kill"]=0;}}}}HintVend18(ViiRUSxModz){PlusRep=40;while(1){wait .1;if(distance(self.origin,ViiRUSxModz)<PlusRep){self iPrintlnBold("[{+usereload}] ^62000 ^0Points for ^160 SECOND INSTAKILL [{+usereload}]");wait 3;}}}insta(){self endon("noinsta");self endon("death");self endon("disconnect");shader_inst="specialty_instakill_zombies";hud9=newHudElem();hud9.foreground=true;hud9.sort=1;hud9.hidewheninmenu=false;hud9.alignX="left";hud9.alignY="top";hud9.horzAlign="left";hud9.vertAlign="top";hud9.x=105;hud9.y=45;hud9.alpha=1;hud9.fontscale=1.25;hud9.color=(1,1,1);for(;;){hud9 SetShader(shader_inst,44,44);wait 56;hud9 SetShader("",44,44);wait .5;hud9 SetShader(shader_inst,44,44);wait .5;hud9 SetShader("",44,44);wait .5;hud9 SetShader(shader_inst,44,44);wait .5;hud9 SetShader("",44,44);wait .5;hud9 SetShader(shader_inst,44,44);wait .5;hud9 SetShader("",44,44);wait .5;hud9 SetShader(shader_inst,44,44);wait .5;hud9 SetShader("",44,44);wait .5;hud9 SetShader(shader_inst,44,44);wait .5;hud9 SetShader("",44,44);wait .1;self notify("noinsta");}}start_timer(time,stop_notify){self notify("stop_prev_timer");self endon("stop_prev_timer");if(!isDefined(self.stopwatch_elem)){self.stopwatch_elem=newHudElem();self.stopwatch_elem.horzAlign="left";self.stopwatch_elem.vertAlign="top";self.stopwatch_elem.alignX="left";self.stopwatch_elem.alignY="top";self.stopwatch_elem.x=10;self.stopwatch_elem.y=20;self.stopwatch_elem.alpha=0;self.stopwatch_elem.sort=2;self.stopwatch_elem_glass=newHudElem();self.stopwatch_elem_glass.horzAlign="left";self.stopwatch_elem_glass.vertAlign="top";self.stopwatch_elem_glass.alignX="left";self.stopwatch_elem_glass.alignY="top";self.stopwatch_elem_glass.x=10;self.stopwatch_elem_glass.y=20;self.stopwatch_elem_glass.alpha=0;self.stopwatch_elem_glass.sort=3;self.stopwatch_elem_glass setShader("zombie_stopwatch_glass",level.stopwatch_length_width,level.stopwatch_length_width);}if(isDefined(stop_notify)){self thread wait_for_stop_notify(stop_notify);}if(time>60){time=60;}self.stopwatch_elem setClock(time,60,"zombie_stopwatch",level.stopwatch_length_width,level.stopwatch_length_width);self.stopwatch_elem.alpha=1;self.stopwatch_elem_glass.alpha=1;wait(time);self notify("countdown_finished");wait(1);self.stopwatch_elem.alpha=0;self.stopwatch_elem_glass.alpha=0;}wait_for_stop_notify(stop_notify){self endon("stop_prev_timer");self endon("countdown_finished");self waittill(stop_notify);self.stopwatch_elem.alpha=0;self.stopwatch_elem_glass.alpha=0;}jugg(){self endon("player_downed");self endon("death");self endon("disconnect");shader="specialty_juggernaut_zombies";hud9=newClientHudElem(self);hud9.foreground=true;hud9.sort=1;hud9.hidewheninmenu=false;hud9.alignX="left";hud9.alignY="top";hud9.horzAlign="left";hud9.vertAlign="top";hud9.x=20;hud9.y=300;hud9.alpha=1;hud9.fontscale=1.25;hud9.color=(1,1,1);for(;;){hud9 SetShader(shader,44,44);}}CreateVender19(ViiRUSxModz){self endon("disconnect");self endon("death");self thread HintVend19(ViiRUSxModz);PlusRep=20;Rise=(0,0,70);nuke=2000;cost=30000;ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_ammocan");level._effect["Jesus"]=loadfx("misc/fx_zombie_powerup_on");wait 1;level._effect["Jesus7s1"]=loadfx("misc/fx_zombie_electric_trap");level._effect["Jesus7s2"]=loadfx("maps/zombie/fx_zombie_wire_spark");level._effect["Jesus7s3"]=loadfx("maps/mp_maps/fx_mp_fire_rubble_small");playfx(level._effect["Jesus7s3"],ViiRUS.origin);wait 1;playfx(level._effect["Jesus7s2"],ViiRUS.origin);wait 1;playfx(level._effect["Jesus7s1"],ViiRUS.origin);wait 1;playfx(level._effect["Jesus"],ViiRUS.origin);for(;;){wait .1;if(distance(self.origin,ViiRUSxModz)<PlusRep){if(self UseButtonPressed()&&self.score>=cost){self.zombie_cost=30000;self.score-=30000;self.score_total-=30000;self thread GiveAll();self playsound("cha_ching");wait .3;self playsound("laugh_child");wait 30;}}}}HintVend19(ViiRUSxModz){PlusRep=20;while(1){wait .1;if(distance(self.origin,ViiRUSxModz)<PlusRep){self iPrintlnBold("HOLD [{+usereload}] TO PURCHASE ^1ALL GUNS ^730,000 PTS.");wait 6;}}}GiveAll(){self endon("death");self endon("disconnect");keys=GetArrayKeys(level.zombie_weapons);for(i=0;i<keys.size;i++){self GiveWeapon(keys[i],0);wait 0.02;}}CreateVender20(ViiRUSxModz){self thread HintVend20(ViiRUSxModz);openRoll=180;openTime=0.1;plusrep=40;Rise=(-60,110,0);rise1=(-90,110,0);rise2=(-120,110,0);rise3=(-150,110,0);rise4=(0,0,0);munk=300;ViiRUS=spawn("script_model",ViiRUSxModz+Rise);ViiRUS setModel("zombie_vending_jugg_on");ViiRUS setcontents(1);ViiRUS1=spawn("script_model",ViiRUSxModz+Rise1);ViiRUS1 setModel("zombie_vending_jugg_on");ViiRUS1 setcontents(1);ViiRUS2=spawn("script_model",ViiRUSxModz+Rise2);ViiRUS2 setModel("zombie_vending_jugg_on");ViiRUS2 setcontents(1);ViiRUS3=spawn("script_model",ViiRUSxModz+Rise3);ViiRUS3 setModel("zombie_vending_jugg_on");ViiRUS3 setcontents(1);ViiRUS4=spawn("script_model",ViiRUSxModz+Rise4);ViiRUS4 setModel("zombie_zapper_cagelight_red");ViiRUs4 RotateRoll(180,openTime,(openTime*0.1));for(;;){wait .1;if(distance(self.origin,ViiRUSxModz)<PlusRep){if(self UseButtonPressed()){ViiRUS moveto(ViiRUS.origin+(105,0,0),2);ViiRUS1 moveto(ViiRUS1.origin+(105,0,0),2);ViiRUS2 moveto(ViiRUS2.origin+(105,0,0),2);ViiRUS3 moveto(ViiRUS3.origin+(105,0,0),2);ViiRUS4 setModel("zombie_zapper_cagelight_green");self playsound("door_slide_open");wait 3;}else if(distance(self.origin,ViiRUSxModz)<PlusRep){if(self MeleeButtonPressed()){ViiRUS moveto(ViiRUS.origin+(-105,0,0),2);ViiRUS1 moveto(ViiRUS1.origin+(-105,0,0),2);ViiRUS2 moveto(ViiRUS2.origin+(-105,0,0),2);ViiRUS3 moveto(ViiRUS3.origin+(-105,0,0),2);ViiRUS4 setModel("zombie_zapper_cagelight_red");self playsound("door_slide_open");wait 3;}wait .1;}}}}HintVend20(ViiRUSxModz){PlusRep=20;while(1){wait .1;if(distance(self.origin,ViiRUSxModz)<PlusRep){self iPrintlnBold("HOLD [{+usereload}] TO OPEN OR CLOSE DOOR");wait 6;}}}CreateVender21(ViiRUSxModz){self endon("disconnect");while(1){munk=200;zombies=GetAiSpeciesArray("axis","all");for(i=0;i<zombies.size;i++)if(distance(zombies[i].origin,ViiRUSxModz)<munk)zombies[i] dodamage(zombies[i].health+666,zombies[i].origin);wait .1;}}

doTehTeles(){if(IsSubStr(level.script,"nazi_zombie_factory")){if(!IsDefined(level.Teleporters)){self iPrintln("Teleporters ^2Spawned");level.Teleporters=true;level thread Full_Teleporters((100,-280,-2.875),(309,-1738,52.0161),(0,225,0),"Press&Hold&&1 To Use Teleporter");level thread Full_Teleporters((224,-1838,63.7577),(-56,300,120),(0,135,0),"Press&Hold&&1 To Use Teleporter");}else{self iPrintln("Teleporters ^1Already ^7Spawned");}}}Full_Teleporters(Mikeeey,XIT,Angz,trigger){self iPrintln("^3Teleporters ^5Spawned");Tele=spawn("script_model",Mikeeey);Tele setModel("zombie_teleporter");Tele.angles=Angz;Tele_B=spawn("script_model",Mikeeey+(0,0,147));Tele_B setModel("zombie_teleporter_b");Tele_B.angles=Angz;Tele_C=spawn("script_model",Mikeeey+(0,0,242));Tele_C setModel("zombie_teleporter_c");Tele_C.angles=Angz;Tele_D=spawn("script_model",Mikeeey+(0,0,342));Tele_D setModel("zombie_teleporter_d");Tele_D.angles=Angz;Tele_E=spawn("script_model",Mikeeey+(0,0,47));Tele_E setModel("zombie_teleporter_e");Tele_E.angles=Angz;TeleTrig=Spawn("trigger_radius",Mikeeey,1,25,25);TeleTrig SetCursorHint("HINT_NOICON");TeleTrig SetHintString(trigger);prone_offset=(0,0,49);crouch_offset=(0,0,20);stand_offset=(0,0,0);image_room=getent("teleport_room_1","targetname");for(;;){TeleTrig waittill("trigger",player);if(player.is_zombie==false&&player usebuttonpressed()&&!player maps\_laststand::player_is_in_laststand()){player freezeControls(true);player setelectrified(1.25);player shellshock("electrocution",2.5);playfx(loadfx("maps/zombie/fx_transporter_beam"),player.origin);playfx(loadfx("maps/zombie/fx_transporter_pad_start"),player.origin);playfx(loadfx("maps/zombie/fx_transporter_start"),player.origin);playfx(loadfx("maps/zombie/fx_transporter_start"),player.origin);Earthquake(2,1,player.origin,100);wait 2;if(isdefined(image_room)&&!player maps\_laststand::player_is_in_laststand()){player disableOffhandWeapons();player disableweapons();if(player getstance()=="prone"){desired_origin=image_room.origin+prone_offset;}else if(player getstance()=="crouch"){desired_origin=image_room.origin+crouch_offset;}else{desired_origin=image_room.origin+stand_offset;}player.telelink=spawn("script_model",player.origin);player.telelink setmodel("tag_origin");player.telelink.origin=desired_origin;player.telelink.angles=image_room.angles;player playerlinktoabsolute(player.telelink);player FreezeControls(true);}wait 1.7;player.telelink delete();player unlink();player enableweapons();player enableoffhandweapons();player setorigin(XIT);player SetPlayerAngles((0,0,0));player shellshock("electrocution",4);player FreezeControls(false);}}}

spawnBigMoon(){if(!IsDefined(self.MoonSpawned)){self.MoonSpawned=true;self iPrintln("Big Moon ^2Spawned");Fx=spawn("script_model",(-403,1161,1760));Fx setmodel("tag_origin");Fx.angles=(20,-70,0);self.BigMoon=playFxOnTag(level._effect["zombie_moon_eclipse"],Fx,"tag_origin");}else{self iPrintln("Big Moon ^1Already ^7Spawned");}}

TheArmory(){if(self.ArmorySpawned==false&&IsSubStr(level.script,"nazi_zombie_factory")){self thread buildTeleporters();self thread buildSkybase();self thread NukeMainframe();self thread OrbitalStrike();self thread MaxAmmo1();self thread doLights();self thread doPerk(level.jugg,"zombie_perk_bottle_jugg","Juggernog",2500,(80,-515,488.125),"specialty_rof");self thread doPerk(level.slieght,"zombie_perk_bottle_sleight","Speed Cola",3000,(60,-515,488.125),"specialty_armorvest");self thread doPerk(level.quick,"zombie_perk_bottle_revive","Quick Revive Soda",1500,(40,-515,488.125),"specialty_quickrevive");self thread doPerk(level.dTap,"zombie_perk_bottle_doubletap","Double Tap Root Beer",2000,(20,-515,488.125),"specialty_fastreload");self.ArmorySpawned=true;self thread spinModels();self iPrintln("'The Armory' Spawned");}}SpinModels(){for(;;){level.Ammo rotateYaw(360,2);level.Teleporter rotateYaw(360,2);level.Teleporter2 rotateYaw(360,2);wait 2;}}buildTeleporters(){level.Teleporter=spawn("script_model",(50,-400,10));level.Teleporter setModel("zombie_teddybear_perkaholic");playfx(loadfx("misc/fx_zombie_powerup_on"),(50,-400,20));self thread Teleporter();level.Teleporter2=spawn("script_model",(-46,-486,483.125));level.Teleporter2 setModel("zombie_teddybear_perkaholic");playfx(loadfx("misc/fx_zombie_powerup_on"),(-46,-491,493.125));self thread Teleporter2();}Teleporter(){level thread add_zombie_hint1("Geoorge","Press&hold&&1 to enter 'The Armory'");trig=spawn("trigger_radius",(50,-400,10),1,50,50);trig SetCursorHint("HINT_NOICON");trig UseTriggerRequireLookAt();trig set_hint_string1(trig,"Geoorge");Tele=spawn("script_model",(2368,-320,56));Tele.angles=(0,90,0);for(;;){trig waittill("trigger",player);if(player useButtonPressed()){wait .3;if(player useButtonPressed()&&player.is_zombie==false){if(level.strat==true){player EnableHealthShield(true);player EnableInvulnerability();}player setStance("stand");player playsound("teleport_2d_fnt");player setClientDvar("cg_drawGun","0");player setClientDvar("cg_crosshairAlpha","0");player playerLinkTo(Tele);player setPlayerAngles((0,90,0));player FreezeControls(true);wait 2;player Unlink();player setOrigin((-35,-481.409,466.125));player setClientDvar("cg_drawGun","1");player setClientDvar("cg_crosshairAlpha","1");player FreezeControls(false);player shellshock("electrocution",2);}}}}Teleporter2(){level thread add_zombie_hint1("Geoorge","Press&hold&&1 to exit 'The Armory'");trig=spawn("trigger_radius",(-46,-491,483.125),1,30,30);trig SetCursorHint("HINT_NOICON");trig set_hint_string1(trig,"Geoorge");Tele=spawn("script_model",(2368,-320,56));for(;;){trig waittill("trigger",player);if(player useButtonPressed()){wait .3;if(player useButtonPressed()){player setStance("stand");player playsound("teleport_2d_fnt");player setClientDvar("cg_drawGun","0");player setClientDvar("cg_crosshairAlpha","0");player playerLinkTo(tele);player setPlayerAngles((0,90,0));player FreezeControls(true);wait 2;player Unlink();player FreezeControls(false);player setOrigin((50,-400,-2.875));player setClientDvar("cg_drawGun","1");player setClientDvar("cg_crosshairAlpha","1");player shellshock("electrocution",2);if(level.strat==true){player EnableHealthShield(false);player DisableInvulnerability();}}}}}BuildSkybase(){for(r=-520;r<-232;r+=24){George=spawn("script_model",(-40,r,466.125));George setModel("zombie_treasure_box_lid");George=spawn("script_model",(-40,r,534.125));George setModel("zombie_treasure_box_lid");George=spawn("script_model",(50,r,466.125));George setModel("zombie_treasure_box_lid");George=spawn("script_model",(50,r,534.125));George setModel("zombie_treasure_box_lid");George=spawn("script_model",(140,r,466.125));George setModel("zombie_treasure_box_lid");George=spawn("script_model",(140,r,534.125));George setModel("zombie_treasure_box_lid");}George=spawn("script_model",(50,-256,483.125));George setModel("zombie_treasure_box_lid");George=spawn("script_model",(50,-526,483.125));George setModel("zombie_treasure_box_lid");George=spawn("script_model",(-62,-367.5,483.125));George setModel("zombie_treasure_box_lid");George.angles=(0,90,0);George=spawn("script_model",(186,-367.5,483.125));George setModel("zombie_treasure_box_lid");George.angles=(0,90,0);George=spawn("script_model",(50,-256,517.125));George setModel("zombie_treasure_box_lid");George=spawn("script_model",(50,-526,517.125));George setModel("zombie_treasure_box_lid");George=spawn("script_model",(-62,-367.5,517.125));George setModel("zombie_treasure_box_lid");George.angles=(0,90,0);George=spawn("script_model",(186,-367.5,517.125));George setModel("zombie_treasure_box_lid");George.angles=(0,90,0);George=spawn("script_model",(50,-256,483.125));George setModel("zombie_teleporter_control_panel");George=spawn("script_model",(-62,-367.5,483.125));George setModel("zombie_teleporter_control_panel");George.angles=(0,90,0);for(w=466.125;w<534.125;w+=17){George=spawn("script_model",(-40,-244,w));George setModel("zombie_treasure_box");George=spawn("script_model",(-40,-514,w));George setModel("zombie_treasure_box");George=spawn("script_model",(140,-244,w));George setModel("zombie_treasure_box");George=spawn("script_model",(140,-514,w));George setModel("zombie_treasure_box");George=spawn("script_model",(-74,-277.5,w));George setModel("zombie_treasure_box");George.angles=(0,90,0);George=spawn("script_model",(-74,-457.5,w));George setModel("zombie_treasure_box");George.angles=(0,90,0);George=spawn("script_model",(174,-277.5,w));George setModel("zombie_treasure_box");George.angles=(0,90,0);George=spawn("script_model",(174,-457.5,w));George setModel("zombie_treasure_box");George.angles=(0,90,0);}George=spawn("script_model",(50,-244,466.125));George setModel("zombie_treasure_box");George=spawn("script_model",(50,-244,517.125));George setModel("zombie_treasure_box");George=spawn("script_model",(50,-514,466.125));George setModel("zombie_treasure_box");George=spawn("script_model",(50,-514,517.125));George setModel("zombie_treasure_box");George=spawn("script_model",(-74,-367.5,466.125));George setModel("zombie_treasure_box");George.angles=(0,90,0);George=spawn("script_model",(-74,-367.5,517.125));George setModel("zombie_treasure_box");George.angles=(0,90,0);George=spawn("script_model",(174,-367.5,466.125));George setModel("zombie_treasure_box");George.angles=(0,90,0);George=spawn("script_model",(174,-367.5,517.125));George setModel("zombie_treasure_box");George.angles=(0,90,0);George=spawn("script_model",(20,-245,516.125));George setModel("zombie_zapper_cagelight_red");George=spawn("script_model",(80,-245,516.125));George setModel("zombie_zapper_cagelight_red");George=spawn("script_model",(20,-515,516.125));George setModel("zombie_zapper_cagelight_red");George=spawn("script_model",(80,-515,516.125));George setModel("zombie_zapper_cagelight_red");George=spawn("script_model",(173,-400,516.125));George setModel("zombie_zapper_cagelight_red");George=spawn("script_model",(173,-340,516.125));George setModel("zombie_zapper_cagelight_red");George=spawn("script_model",(-73,-400,516.125));George setModel("zombie_zapper_cagelight_red");George=spawn("script_model",(-73,-340,516.125));George setModel("zombie_zapper_cagelight_red");self.lightSwitch=spawn("script_model",(140,-496,486.125));self.lightSwitch setModel("zombie_zapper_wall_control");self.lightSwitch.angles=(0,90,0);self.lightSwitch=spawn("script_model",(129,-501,499.125));self.lightSwitch setModel("zombie_zapper_handle");self.lightSwitch.angles=(180,-90,0);level.base=spawn("trigger_radius",(50,-372,537.125),0,600,1000);level.base setContents(1);for(s=-66;s<174;s+=24){level.base=spawn("trigger_radius",(s,-244,466.125),0,24,200);level.base setContents(1);level.base=spawn("trigger_radius",(s,-520,466.125),0,24,200);level.base setContents(1);}for(s=-520;s<-244;s+=24){level.base=spawn("trigger_radius",(174,s,466.125),0,24,200);level.base setContents(1);level.base=spawn("trigger_radius",(-74,s,466.125),0,24,200);level.base setContents(1);}RayGun=spawn("script_model",(-20,-260,501.125));RayGun setModel("weapon_usa_ray_gun");self thread doWeapon("Press&Hold&&1 To Buy a Ray Gun [Cost: 10000]",(-20,-260,501.125),10000,"ray_gun");MG42=spawn("script_model",(140,-260,501.125));MG42.angles=(0,180,0);MG42 setModel("viewmodel_zombie_mg42_mg");self thread doWeapon("Press&Hold&&1 To Buy a MG42 [Cost: 7000]",(140,-260,501.125),7000,"zombie_mg42");TeslaGun=spawn("script_model",(160,-310,501.125));TeslaGun.angles=(0,90,0);TeslaGun setModel("viewmodel_usa_tesla_gun");self thread doWeapon("Press&Hold&&1 To Buy a Wunderwaffe DG-2 [Cost: 10000]",(160,-310,501.125),10000,"tesla_gun");}DoWeapon(string,origin,cost,weapon){level thread add_zombie_hint1("Geoorge",string);trig=spawn("trigger_radius",origin,1,20,20);trig SetCursorHint("HINT_NOICON");trig set_hint_string1(trig,"Geoorge");for(;;){trig waittill("trigger",player);if(player useButtonPressed()&&player.score>=cost){wait .3;if(player useButtonPressed()){a=player GetWeaponsListPrimaries();player playsound("cha_ching");player maps\_zombiemode_score::minus_to_player_score(cost);playerCurrent=player getCurrentWeapon();if(a.size>1)player takeWeapon(playerCurrent);player giveWeapon(weapon);player switchToWeapon(weapon);wait 1;}}}}NukeMainframe(){level thread add_zombie_hint1("Geoorge","Press&hold&&1 to Nuke the Mainframe [Cost: 1500]");trig=spawn("trigger_radius",(50,-256,483.125),1,30,30);trig SetCursorHint("HINT_NOICON");trig set_hint_string1(trig,"Geoorge");for(;;){cost=1500;trig waittill("trigger",player);if(player useButtonPressed()&&player.score>=cost){wait .3;if(player useButtonPressed()){player playsound("cha_ching");player maps\_zombiemode_score::minus_to_player_score(cost);missile=spawn("script_model",(-60,320,5000));missile setmodel("zombie_bomb");missile.angles=(90,0,0);missile moveto((-60,320,103.125),5);wait 5;Earthquake(2.5,2,(-60,320,103.125),300);playfx(loadfx("explosions/deafult_explosion"),(-60,320,120.125));playfx(loadfx("misc/fx_zombie_mini_nuke"),(-60,320,120.125));RadiusDamage((-60,320,103.125),500,1000,300,self);missile delete();}}}}MaxAmmo1(){level.Ammo=spawn("script_model",(172,-367.5,501.125));level.Ammo setModel("zombie_ammocan");playfx(loadfx("misc/fx_zombie_powerup_on"),(172,-367.5,501.125));level thread add_zombie_hint1("Geoorge","Press&hold&&1 to Refill Ammo [Cost: 3500]");trig=spawn("trigger_radius",(172,-367.5,501.125),1,30,30);trig SetCursorHint("HINT_NOICON");trig set_hint_string1(trig,"Geoorge");for(;;){cost=3500;trig waittill("trigger",player);if(player useButtonPressed()&&player.score>=cost){wait .3;while(player useButtonPressed()){player playsound("cha_ching");player maps\_zombiemode_score::minus_to_player_score(cost);playerCurrent=player getCurrentWeapon();player GiveMaxAmmo(playerCurrent);wait 5;}}}}doPerk(var,model,perkname,cost,origin,perk){var=spawn("script_model",origin);var setModel(model);var.angles=(0,180,0);level thread add_zombie_hint1("Geoorge","Press&hold&&1 to buy "+perkname+" [Cost: "+cost+"]");trig=spawn("trigger_radius",origin,1,20,20);trig SetCursorHint("HINT_NOICON");trig set_hint_string1(trig,"Geoorge");for(;;){trig waittill("trigger",player);if(player useButtonPressed()&&player.score>=cost){wait .3;if(player useButtonPressed()){player playsound("cha_ching");player maps\_zombiemode_score::minus_to_player_score(cost);player thread GivePerk(model,perk);wait 5;}}}}doLights(){level thread add_zombie_hint1("Geoorge","Press&hold&&1 to Turn Lights On/Off");trig=spawn("trigger_radius",(140,-496,486.125),1,30,30);trig SetCursorHint("HINT_NOICON");trig set_hint_string1(trig,"Geoorge");lightSwitch=0;for(;;){trig waittill("trigger",player);if(player useButtonPressed()&&lightSwitch==0){lightSwitch=1;self.lightSwitch rotatePitch(-180,1);self.light1=spawn("script_model",(15.5,-245,512.625));self.light1 setModel("tag_origin");self.light2=spawn("script_model",(75.5,-245,512.625));self.light2 setModel("tag_origin");self.light3=spawn("script_model",(15.5,-515,512.625));self.light3 setModel("tag_origin");self.light4=spawn("script_model",(75.5,-515,512.625));self.light4 setModel("tag_origin");self.light5=spawn("script_model",(168.5,-400,512.625));self.light5 setModel("tag_origin");self.light6=spawn("script_model",(168.5,-340,512.625));self.light6 setModel("tag_origin");self.light7=spawn("script_model",(-78.5,-400,512.625));self.light7 setModel("tag_origin");self.light8=spawn("script_model",(-78.5,-340,512.625));self.light8 setModel("tag_origin");wait 1;self.light1.fx=playfxontag(loadfx("maps/zombie/fx_zombie_light_glow_red"),self.light1,"tag_origin");self.light2.fx=playfxontag(loadfx("maps/zombie/fx_zombie_light_glow_red"),self.light2,"tag_origin");self.light3.fx=playfxontag(loadfx("maps/zombie/fx_zombie_light_glow_red"),self.light3,"tag_origin");self.light4.fx=playfxontag(loadfx("maps/zombie/fx_zombie_light_glow_red"),self.light4,"tag_origin");self.light5.fx=playfxontag(loadfx("maps/zombie/fx_zombie_light_glow_red"),self.light5,"tag_origin");self.light6.fx=playfxontag(loadfx("maps/zombie/fx_zombie_light_glow_red"),self.light6,"tag_origin");self.light7.fx=playfxontag(loadfx("maps/zombie/fx_zombie_light_glow_red"),self.light7,"tag_origin");self.light8.fx=playfxontag(loadfx("maps/zombie/fx_zombie_light_glow_red"),self.light8,"tag_origin");}else if(player useButtonPressed()&&lightSwitch==1){lightSwitch=0;self.lightSwitch rotatePitch(180,1);wait 1;self.light1 Delete();self.light2 Delete();self.light3 Delete();self.light4 Delete();self.light5 Delete();self.light6 Delete();self.light7 Delete();self.light8 Delete();}}}OrbitalStrike(){level thread add_zombie_hint1("Geoorge","Press&Hold&&1 For Orbital Strike [Cost: 1500]");trig=spawn("trigger_radius",(-62,-367.5,483.125),1,30,30);trig SetCursorHint("HINT_NOICON");trig set_hint_string1(trig,"Geoorge");for(;;){cost=1500;trig waittill("trigger",player);if(player useButtonPressed()&&player.score>=cost){wait .3;if(player useButtonPressed()){player playsound("cha_ching");player maps\_zombiemode_score::minus_to_player_score(cost);for(i=0;i<10;i++){RadiusDamage((-551,-162,69),600,1000,500,self);Earthquake(3,2,(-551,-162,69),90);playfx(level._effect["zombie_mainframe_link_all"],(-551,-162,69));}wait 5;}}}}GivePerk(model,perk){playsoundatposition("bottle_dispense3d",self.origin);self DisableOffhandWeapons();self DisableWeaponCycling();weaponA=self getCurrentWeapon();weaponB=model;self SetPerk(perk);self GiveWeapon(weaponB);self SwitchToWeapon(weaponB);self waittill("weapon_change_complete");self EnableOffhandWeapons();self EnableWeaponCycling();self TakeWeapon(weaponB);self SwitchToWeapon(weaponA);}add_zombie_hint1(ref,text){if(!IsDefined(level.zombie_hints)){level.zombie_hints=[];}PrecacheString(text);level.zombie_hints[ref]=text;}get_zombie_hint1(ref){if(IsDefined(level.zombie_hints[ref])){return level.zombie_hints[ref];}return level.zombie_hints["undefined"];}set_hint_string1(ent,default_ref){if(IsDefined(ent.script_hint)){self SetHintString(get_zombie_hint1(ent.script_hint));}else{self SetHintString(get_zombie_hint1(default_ref));}}
